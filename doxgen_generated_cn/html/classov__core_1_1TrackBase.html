<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenVINS: ov_core::TrackBase类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenVINS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceov__core.html">ov_core</a></li><li class="navelem"><a class="el" href="classov__core_1_1TrackBase.html">TrackBase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public 类型</a> &#124;
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="#pro-attribs">Protected 属性</a> &#124;
<a href="classov__core_1_1TrackBase-members.html">所有成员列表</a>  </div>
  <div class="headertitle">
<div class="title">ov_core::TrackBase类 参考<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Visual feature tracking base class  
 <a href="classov__core_1_1TrackBase.html#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="TrackBase_8h_source.html">TrackBase.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public 类型</h2></td></tr>
<tr class="memitem:aa4b34a5dce99b59522d57bf9278c9a1a"><td class="memItemLeft" align="right" valign="top"><a id="aa4b34a5dce99b59522d57bf9278c9a1a"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#aa4b34a5dce99b59522d57bf9278c9a1a">HistogramMethod</a> { <b>NONE</b>, 
<b>HISTOGRAM</b>, 
<b>CLAHE</b>
 }<tr class="memdesc:aa4b34a5dce99b59522d57bf9278c9a1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Desired pre-processing image method. <br /></td></tr>
</td></tr>
<tr class="separator:aa4b34a5dce99b59522d57bf9278c9a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:a645127d6e03e66b96959ececccb3ffc0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a645127d6e03e66b96959ececccb3ffc0">TrackBase</a> (std::unordered_map&lt; size_t, std::shared_ptr&lt; <a class="el" href="classov__core_1_1CamBase.html">CamBase</a> &gt;&gt; cameras, int numfeats, int numaruco, bool stereo, <a class="el" href="classov__core_1_1TrackBase.html#aa4b34a5dce99b59522d57bf9278c9a1a">HistogramMethod</a> histmethod)</td></tr>
<tr class="memdesc:a645127d6e03e66b96959ececccb3ffc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public constructor with configuration variables  <a href="#a645127d6e03e66b96959ececccb3ffc0">更多...</a><br /></td></tr>
<tr class="separator:a645127d6e03e66b96959ececccb3ffc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18f208f4047e9a1955406806ba68a8c1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a18f208f4047e9a1955406806ba68a8c1">feed_new_camera</a> (const <a class="el" href="structov__core_1_1CameraData.html">CameraData</a> &amp;message)=0</td></tr>
<tr class="memdesc:a18f208f4047e9a1955406806ba68a8c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a new image  <a href="#a18f208f4047e9a1955406806ba68a8c1">更多...</a><br /></td></tr>
<tr class="separator:a18f208f4047e9a1955406806ba68a8c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01c002a52290030fb86955ed6706f658"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a01c002a52290030fb86955ed6706f658">display_active</a> (cv::Mat &amp;img_out, int r1, int g1, int b1, int r2, int g2, int b2, std::string overlay=&quot;&quot;)</td></tr>
<tr class="memdesc:a01c002a52290030fb86955ed6706f658"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows features extracted in the last image  <a href="#a01c002a52290030fb86955ed6706f658">更多...</a><br /></td></tr>
<tr class="separator:a01c002a52290030fb86955ed6706f658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae90a40ff97cf87e1fe58e278d49c2f5b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#ae90a40ff97cf87e1fe58e278d49c2f5b">display_history</a> (cv::Mat &amp;img_out, int r1, int g1, int b1, int r2, int g2, int b2, std::vector&lt; size_t &gt; highlighted={}, std::string overlay=&quot;&quot;)</td></tr>
<tr class="memdesc:ae90a40ff97cf87e1fe58e278d49c2f5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows a "trail" for each feature (i.e. its history)  <a href="#ae90a40ff97cf87e1fe58e278d49c2f5b">更多...</a><br /></td></tr>
<tr class="separator:ae90a40ff97cf87e1fe58e278d49c2f5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebcef580e2c1639d45bcb74e2bc516aa"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classov__core_1_1FeatureDatabase.html">FeatureDatabase</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#aebcef580e2c1639d45bcb74e2bc516aa">get_feature_database</a> ()</td></tr>
<tr class="memdesc:aebcef580e2c1639d45bcb74e2bc516aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the feature database with all the track information  <a href="#aebcef580e2c1639d45bcb74e2bc516aa">更多...</a><br /></td></tr>
<tr class="separator:aebcef580e2c1639d45bcb74e2bc516aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f4f7f1c4de3c33a254c14b1f96af5a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a8f4f7f1c4de3c33a254c14b1f96af5a0">change_feat_id</a> (size_t id_old, size_t id_new)</td></tr>
<tr class="memdesc:a8f4f7f1c4de3c33a254c14b1f96af5a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the ID of an actively tracked feature to another one.  <a href="#a8f4f7f1c4de3c33a254c14b1f96af5a0">更多...</a><br /></td></tr>
<tr class="separator:a8f4f7f1c4de3c33a254c14b1f96af5a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35238206253104bd568d1321dd767610"><td class="memItemLeft" align="right" valign="top"><a id="a35238206253104bd568d1321dd767610"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a35238206253104bd568d1321dd767610">get_num_features</a> ()</td></tr>
<tr class="memdesc:a35238206253104bd568d1321dd767610"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter method for number of active features <br /></td></tr>
<tr class="separator:a35238206253104bd568d1321dd767610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d20228c100c753217043e7ebb5f99e"><td class="memItemLeft" align="right" valign="top"><a id="a91d20228c100c753217043e7ebb5f99e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a91d20228c100c753217043e7ebb5f99e">set_num_features</a> (int _num_features)</td></tr>
<tr class="memdesc:a91d20228c100c753217043e7ebb5f99e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter method for number of active features <br /></td></tr>
<tr class="separator:a91d20228c100c753217043e7ebb5f99e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected 属性</h2></td></tr>
<tr class="memitem:a052a06d61aadf4a12a8739f0221d3e6b"><td class="memItemLeft" align="right" valign="top"><a id="a052a06d61aadf4a12a8739f0221d3e6b"></a>
std::unordered_map&lt; size_t, std::shared_ptr&lt; <a class="el" href="classov__core_1_1CamBase.html">CamBase</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a052a06d61aadf4a12a8739f0221d3e6b">camera_calib</a></td></tr>
<tr class="memdesc:a052a06d61aadf4a12a8739f0221d3e6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Camera object which has all calibration in it <br /></td></tr>
<tr class="separator:a052a06d61aadf4a12a8739f0221d3e6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a832d13076b7d5ef3d6481deb5ce3000d"><td class="memItemLeft" align="right" valign="top"><a id="a832d13076b7d5ef3d6481deb5ce3000d"></a>
std::shared_ptr&lt; <a class="el" href="classov__core_1_1FeatureDatabase.html">FeatureDatabase</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a832d13076b7d5ef3d6481deb5ce3000d">database</a></td></tr>
<tr class="memdesc:a832d13076b7d5ef3d6481deb5ce3000d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Database with all our current features <br /></td></tr>
<tr class="separator:a832d13076b7d5ef3d6481deb5ce3000d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10325315c2e52ab8367097d57b7020c6"><td class="memItemLeft" align="right" valign="top"><a id="a10325315c2e52ab8367097d57b7020c6"></a>
std::map&lt; size_t, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a10325315c2e52ab8367097d57b7020c6">camera_fisheye</a></td></tr>
<tr class="memdesc:a10325315c2e52ab8367097d57b7020c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">If we are a fisheye model or not <br /></td></tr>
<tr class="separator:a10325315c2e52ab8367097d57b7020c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22e5b8a82308be5190933e5991891e9a"><td class="memItemLeft" align="right" valign="top"><a id="a22e5b8a82308be5190933e5991891e9a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a22e5b8a82308be5190933e5991891e9a">num_features</a></td></tr>
<tr class="memdesc:a22e5b8a82308be5190933e5991891e9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of features we should try to track frame to frame <br /></td></tr>
<tr class="separator:a22e5b8a82308be5190933e5991891e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33375ebbd4b3ebcd69c782e897847276"><td class="memItemLeft" align="right" valign="top"><a id="a33375ebbd4b3ebcd69c782e897847276"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a33375ebbd4b3ebcd69c782e897847276">use_stereo</a></td></tr>
<tr class="memdesc:a33375ebbd4b3ebcd69c782e897847276"><td class="mdescLeft">&#160;</td><td class="mdescRight">If we should use binocular tracking or stereo tracking for multi-camera <br /></td></tr>
<tr class="separator:a33375ebbd4b3ebcd69c782e897847276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbd2200d5a77254ee57e5a86f9e367c6"><td class="memItemLeft" align="right" valign="top"><a id="adbd2200d5a77254ee57e5a86f9e367c6"></a>
<a class="el" href="classov__core_1_1TrackBase.html#aa4b34a5dce99b59522d57bf9278c9a1a">HistogramMethod</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#adbd2200d5a77254ee57e5a86f9e367c6">histogram_method</a></td></tr>
<tr class="memdesc:adbd2200d5a77254ee57e5a86f9e367c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">What histogram equalization method we should pre-process images with? <br /></td></tr>
<tr class="separator:adbd2200d5a77254ee57e5a86f9e367c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d9a970b148abdee71e1ace835c38c7c"><td class="memItemLeft" align="right" valign="top"><a id="a8d9a970b148abdee71e1ace835c38c7c"></a>
std::vector&lt; std::mutex &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a8d9a970b148abdee71e1ace835c38c7c">mtx_feeds</a></td></tr>
<tr class="memdesc:a8d9a970b148abdee71e1ace835c38c7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutexs for our last set of image storage (img_last, pts_last, and ids_last) <br /></td></tr>
<tr class="separator:a8d9a970b148abdee71e1ace835c38c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc70de91df5ec14f4db66414a71f0fbb"><td class="memItemLeft" align="right" valign="top"><a id="afc70de91df5ec14f4db66414a71f0fbb"></a>
std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#afc70de91df5ec14f4db66414a71f0fbb">mtx_last_vars</a></td></tr>
<tr class="memdesc:afc70de91df5ec14f4db66414a71f0fbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex for editing the *_last variables <br /></td></tr>
<tr class="separator:afc70de91df5ec14f4db66414a71f0fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84396d08375c2c796fc759de12d28469"><td class="memItemLeft" align="right" valign="top"><a id="a84396d08375c2c796fc759de12d28469"></a>
std::map&lt; size_t, cv::Mat &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a84396d08375c2c796fc759de12d28469">img_last</a></td></tr>
<tr class="memdesc:a84396d08375c2c796fc759de12d28469"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last set of images (use map so all trackers render in the same order) <br /></td></tr>
<tr class="separator:a84396d08375c2c796fc759de12d28469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a744c43a93a6e4b5cbd9551280e6a1c97"><td class="memItemLeft" align="right" valign="top"><a id="a744c43a93a6e4b5cbd9551280e6a1c97"></a>
std::map&lt; size_t, cv::Mat &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a744c43a93a6e4b5cbd9551280e6a1c97">img_mask_last</a></td></tr>
<tr class="memdesc:a744c43a93a6e4b5cbd9551280e6a1c97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last set of images (use map so all trackers render in the same order) <br /></td></tr>
<tr class="separator:a744c43a93a6e4b5cbd9551280e6a1c97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad44a9e0c34c63b477be5fd2a63a6fb61"><td class="memItemLeft" align="right" valign="top"><a id="ad44a9e0c34c63b477be5fd2a63a6fb61"></a>
std::unordered_map&lt; size_t, std::vector&lt; cv::KeyPoint &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#ad44a9e0c34c63b477be5fd2a63a6fb61">pts_last</a></td></tr>
<tr class="memdesc:ad44a9e0c34c63b477be5fd2a63a6fb61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last set of tracked points <br /></td></tr>
<tr class="separator:ad44a9e0c34c63b477be5fd2a63a6fb61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf73cf7b7fd410d8532733875154ed2f"><td class="memItemLeft" align="right" valign="top"><a id="aaf73cf7b7fd410d8532733875154ed2f"></a>
std::unordered_map&lt; size_t, std::vector&lt; size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#aaf73cf7b7fd410d8532733875154ed2f">ids_last</a></td></tr>
<tr class="memdesc:aaf73cf7b7fd410d8532733875154ed2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of IDs of each current feature in the database <br /></td></tr>
<tr class="separator:aaf73cf7b7fd410d8532733875154ed2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af59db0441bf16f0e7c62d8f3bd09e5f0"><td class="memItemLeft" align="right" valign="top"><a id="af59db0441bf16f0e7c62d8f3bd09e5f0"></a>
std::atomic&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#af59db0441bf16f0e7c62d8f3bd09e5f0">currid</a></td></tr>
<tr class="memdesc:af59db0441bf16f0e7c62d8f3bd09e5f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Master ID for this tracker (atomic to allow for multi-threading) <br /></td></tr>
<tr class="separator:af59db0441bf16f0e7c62d8f3bd09e5f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57cb2bb8f3c607f8b9d4bf2a602ac4e6"><td class="memItemLeft" align="right" valign="top"><a id="a57cb2bb8f3c607f8b9d4bf2a602ac4e6"></a>
boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><b>rT1</b></td></tr>
<tr class="separator:a57cb2bb8f3c607f8b9d4bf2a602ac4e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73e38b621931e157aaa17495b53867b0"><td class="memItemLeft" align="right" valign="top"><a id="a73e38b621931e157aaa17495b53867b0"></a>
boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><b>rT2</b></td></tr>
<tr class="separator:a73e38b621931e157aaa17495b53867b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e120e3fea132cc8284216f5567938f3"><td class="memItemLeft" align="right" valign="top"><a id="a8e120e3fea132cc8284216f5567938f3"></a>
boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><b>rT3</b></td></tr>
<tr class="separator:a8e120e3fea132cc8284216f5567938f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77d86ae2f9d21a3033c15f99b0e34d6e"><td class="memItemLeft" align="right" valign="top"><a id="a77d86ae2f9d21a3033c15f99b0e34d6e"></a>
boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><b>rT4</b></td></tr>
<tr class="separator:a77d86ae2f9d21a3033c15f99b0e34d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab57d642985cdbf063dabbd17a2d2e41e"><td class="memItemLeft" align="right" valign="top"><a id="ab57d642985cdbf063dabbd17a2d2e41e"></a>
boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><b>rT5</b></td></tr>
<tr class="separator:ab57d642985cdbf063dabbd17a2d2e41e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfc1e6bd97b51b95ac4b2283201f395a"><td class="memItemLeft" align="right" valign="top"><a id="acfc1e6bd97b51b95ac4b2283201f395a"></a>
boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><b>rT6</b></td></tr>
<tr class="separator:acfc1e6bd97b51b95ac4b2283201f395a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03326b3c79412f3f96d4c0a6d9de1e76"><td class="memItemLeft" align="right" valign="top"><a id="a03326b3c79412f3f96d4c0a6d9de1e76"></a>
boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><b>rT7</b></td></tr>
<tr class="separator:a03326b3c79412f3f96d4c0a6d9de1e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>Visual feature tracking base class </p>
<p>This is the base class for all our visual trackers. The goal here is to provide a common interface so all underlying trackers can simply hide away all the complexities. We have something called the "feature database" which has all the tracking information inside of it. The user can ask this database for features which can then be used in an MSCKF or batch-based setting. The feature tracks store both the raw (distorted) and undistorted/normalized values. Right now we just support two camera models, see: undistort_point_brown() and undistort_point_fisheye().</p>
<dl class="section user"><dt>A Note on Multi-Threading Support</dt><dd>There is some support for asynchronous multi-threaded feature tracking of independent cameras. The key assumption during implementation is that the user will not try to track on the same camera in parallel, and instead call on different cameras. For example, if I have two cameras, I can either sequentially call the feed function, or I spin each of these into separate threads and wait for their return. The <a class="el" href="classov__core_1_1TrackBase.html#af59db0441bf16f0e7c62d8f3bd09e5f0">currid</a> is atomic to allow for multiple threads to access it without issue and ensure that all features have unique id values. We also have mutex for access for the calibration and previous images and tracks (used during visualization). It should be noted that if a thread calls visualization, it might hang or the feed thread might, due to acquiring the mutex for that specific camera id / feed.</dd></dl>
<p>This base class also handles most of the heavy lifting with the visualization, but the sub-classes can override this and do their own logic if they want (i.e. the <a class="el" href="classov__core_1_1TrackAruco.html" title="Tracking of OpenCV Aruoc tags. ">TrackAruco</a> has its own logic for visualization). This visualization needs access to the prior images and their tracks, thus must synchronise in the case of multi-threading. This shouldn't impact performance, but high frequency visualization calls can negatively effect the performance. </p>
</div><h2 class="groupheader">构造及析构函数说明</h2>
<a id="a645127d6e03e66b96959ececccb3ffc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a645127d6e03e66b96959ececccb3ffc0">&#9670;&nbsp;</a></span>TrackBase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TrackBase::TrackBase </td>
          <td>(</td>
          <td class="paramtype">std::unordered_map&lt; size_t, std::shared_ptr&lt; <a class="el" href="classov__core_1_1CamBase.html">CamBase</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>cameras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numfeats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numaruco</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stereo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classov__core_1_1TrackBase.html#aa4b34a5dce99b59522d57bf9278c9a1a">HistogramMethod</a>&#160;</td>
          <td class="paramname"><em>histmethod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Public constructor with configuration variables </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">cameras</td><td>camera calibration object which has all camera intrinsics in it </td></tr>
    <tr><td class="paramname">numfeats</td><td>number of features we want want to track (i.e. track 200 points from frame to frame) </td></tr>
    <tr><td class="paramname">numaruco</td><td>the max id of the arucotags, so we ensure that we start our non-auroc features above this value </td></tr>
    <tr><td class="paramname">stereo</td><td>if we should do stereo feature tracking or binocular </td></tr>
    <tr><td class="paramname">histmethod</td><td>what type of histogram pre-processing should be done (histogram eq?) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="a8f4f7f1c4de3c33a254c14b1f96af5a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f4f7f1c4de3c33a254c14b1f96af5a0">&#9670;&nbsp;</a></span>change_feat_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TrackBase::change_feat_id </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>id_old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>id_new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the ID of an actively tracked feature to another one. </p>
<p>This function can be helpfull if you detect a loop-closure with an old frame. One could then change the id of an active feature to match the old feature id!</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">id_old</td><td>Old id we want to change </td></tr>
    <tr><td class="paramname">id_new</td><td>Id we want to change the old id to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a01c002a52290030fb86955ed6706f658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01c002a52290030fb86955ed6706f658">&#9670;&nbsp;</a></span>display_active()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackBase::display_active </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>img_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>g1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>g2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>overlay</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shows features extracted in the last image </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">img_out</td><td>image to which we will overlayed features on </td></tr>
    <tr><td class="paramname">r1,g1,b1</td><td>first color to draw in </td></tr>
    <tr><td class="paramname">r2,g2,b2</td><td>second color to draw in </td></tr>
    <tr><td class="paramname">overlay</td><td>Text overlay to replace to normal "cam0" in the top left of screen </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae90a40ff97cf87e1fe58e278d49c2f5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae90a40ff97cf87e1fe58e278d49c2f5b">&#9670;&nbsp;</a></span>display_history()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackBase::display_history </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>img_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>g1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>g2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; size_t &gt;&#160;</td>
          <td class="paramname"><em>highlighted</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>overlay</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shows a "trail" for each feature (i.e. its history) </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">img_out</td><td>image to which we will overlayed features on </td></tr>
    <tr><td class="paramname">r1,g1,b1</td><td>first color to draw in </td></tr>
    <tr><td class="paramname">r2,g2,b2</td><td>second color to draw in </td></tr>
    <tr><td class="paramname">highlighted</td><td>unique ids which we wish to highlight (e.g. slam feats) </td></tr>
    <tr><td class="paramname">overlay</td><td>Text overlay to replace to normal "cam0" in the top left of screen </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a18f208f4047e9a1955406806ba68a8c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18f208f4047e9a1955406806ba68a8c1">&#9670;&nbsp;</a></span>feed_new_camera()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ov_core::TrackBase::feed_new_camera </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structov__core_1_1CameraData.html">CameraData</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process a new image </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>Contains our timestamp, images, and camera ids </td></tr>
  </table>
  </dd>
</dl>

<p>在 <a class="el" href="classov__core_1_1TrackAruco.html#a8c6b74f31cabe516bb9ceb2d2326a2a9">ov_core::TrackAruco</a>, <a class="el" href="classov__core_1_1TrackKLT.html#a8cb9c3595fbbddc9a563137cd06b07cf">ov_core::TrackKLT</a>, <a class="el" href="classov__core_1_1TrackDescriptor.html#afcbf3078992f740582eac24e3164e6f1">ov_core::TrackDescriptor</a> , 以及 <a class="el" href="classov__core_1_1TrackSIM.html#a4c1537c48eec664a2c83dacc4b7e5778">ov_core::TrackSIM</a> 内被实现.</p>

</div>
</div>
<a id="aebcef580e2c1639d45bcb74e2bc516aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebcef580e2c1639d45bcb74e2bc516aa">&#9670;&nbsp;</a></span>get_feature_database()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classov__core_1_1FeatureDatabase.html">FeatureDatabase</a>&gt; ov_core::TrackBase::get_feature_database </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the feature database with all the track information </p>
<dl class="section return"><dt>返回</dt><dd><a class="el" href="classov__core_1_1FeatureDatabase.html" title="Database containing features we are currently tracking. ">FeatureDatabase</a> pointer that one can query for features </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
