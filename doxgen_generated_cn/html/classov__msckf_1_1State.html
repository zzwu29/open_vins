<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenVINS: ov_msckf::State类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenVINS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceov__msckf.html">ov_msckf</a></li><li class="navelem"><a class="el" href="classov__msckf_1_1State.html">State</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="#pub-attribs">Public 属性</a> &#124;
<a href="#friends">友元</a> &#124;
<a href="classov__msckf_1_1State-members.html">所有成员列表</a>  </div>
  <div class="headertitle">
<div class="title">ov_msckf::State类 参考</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classov__msckf_1_1State.html" title="State of our filter ">State</a> of our filter  
 <a href="classov__msckf_1_1State.html#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="State_8h_source.html">State.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:ad6098accfeb57e7eb8c8a22bfd45ec0b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1State.html#ad6098accfeb57e7eb8c8a22bfd45ec0b">State</a> (<a class="el" href="structov__msckf_1_1StateOptions.html">StateOptions</a> &amp;options_)</td></tr>
<tr class="memdesc:ad6098accfeb57e7eb8c8a22bfd45ec0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Constructor (will initialize variables to defaults)  <a href="#ad6098accfeb57e7eb8c8a22bfd45ec0b">更多...</a><br /></td></tr>
<tr class="separator:ad6098accfeb57e7eb8c8a22bfd45ec0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36420e71ffa54625667eac2a8a345582"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1State.html#a36420e71ffa54625667eac2a8a345582">margtimestep</a> ()</td></tr>
<tr class="memdesc:a36420e71ffa54625667eac2a8a345582"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will return the timestep that we will marginalize next. As of right now, since we are using a sliding window, this is the oldest clone. But if you wanted to do a keyframe system, you could selectively marginalize clones.  <a href="#a36420e71ffa54625667eac2a8a345582">更多...</a><br /></td></tr>
<tr class="separator:a36420e71ffa54625667eac2a8a345582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c45cc1d3d1a3dcc46d3799a997355f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1State.html#a37c45cc1d3d1a3dcc46d3799a997355f">max_covariance_size</a> ()</td></tr>
<tr class="memdesc:a37c45cc1d3d1a3dcc46d3799a997355f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the current max size of the covariance  <a href="#a37c45cc1d3d1a3dcc46d3799a997355f">更多...</a><br /></td></tr>
<tr class="separator:a37c45cc1d3d1a3dcc46d3799a997355f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public 属性</h2></td></tr>
<tr class="memitem:ae7615177e3edeb8eac39eb05867dc72f"><td class="memItemLeft" align="right" valign="top"><a id="ae7615177e3edeb8eac39eb05867dc72f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1State.html#ae7615177e3edeb8eac39eb05867dc72f">_timestamp</a> = -1</td></tr>
<tr class="memdesc:ae7615177e3edeb8eac39eb05867dc72f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current timestamp (should be the last update time!) <br /></td></tr>
<tr class="separator:ae7615177e3edeb8eac39eb05867dc72f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2af409a71537d305b45c62a91b6dda75"><td class="memItemLeft" align="right" valign="top"><a id="a2af409a71537d305b45c62a91b6dda75"></a>
<a class="el" href="structov__msckf_1_1StateOptions.html">StateOptions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1State.html#a2af409a71537d305b45c62a91b6dda75">_options</a></td></tr>
<tr class="memdesc:a2af409a71537d305b45c62a91b6dda75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct containing filter options <br /></td></tr>
<tr class="separator:a2af409a71537d305b45c62a91b6dda75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb5600395921fb8ac81f585006186a64"><td class="memItemLeft" align="right" valign="top"><a id="aeb5600395921fb8ac81f585006186a64"></a>
std::shared_ptr&lt; <a class="el" href="classov__type_1_1IMU.html">ov_type::IMU</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1State.html#aeb5600395921fb8ac81f585006186a64">_imu</a></td></tr>
<tr class="memdesc:aeb5600395921fb8ac81f585006186a64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the "active" IMU state (q_GtoI, p_IinG, v_IinG, bg, ba) <br /></td></tr>
<tr class="separator:aeb5600395921fb8ac81f585006186a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fdd8bcc9f67c124257a8daa81bfb15d"><td class="memItemLeft" align="right" valign="top"><a id="a9fdd8bcc9f67c124257a8daa81bfb15d"></a>
std::map&lt; double, std::shared_ptr&lt; <a class="el" href="classov__type_1_1PoseJPL.html">ov_type::PoseJPL</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1State.html#a9fdd8bcc9f67c124257a8daa81bfb15d">_clones_IMU</a></td></tr>
<tr class="memdesc:a9fdd8bcc9f67c124257a8daa81bfb15d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map between imaging times and clone poses (q_GtoIi, p_IiinG) <br /></td></tr>
<tr class="separator:a9fdd8bcc9f67c124257a8daa81bfb15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac08dc6bd1557fd4c3639d5eb2a998cb4"><td class="memItemLeft" align="right" valign="top"><a id="ac08dc6bd1557fd4c3639d5eb2a998cb4"></a>
std::unordered_map&lt; size_t, std::shared_ptr&lt; <a class="el" href="classov__type_1_1Landmark.html">ov_type::Landmark</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1State.html#ac08dc6bd1557fd4c3639d5eb2a998cb4">_features_SLAM</a></td></tr>
<tr class="memdesc:ac08dc6bd1557fd4c3639d5eb2a998cb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Our current set of SLAM features (3d positions) <br /></td></tr>
<tr class="separator:ac08dc6bd1557fd4c3639d5eb2a998cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ef68be4e06e4b4947c86852d1005893"><td class="memItemLeft" align="right" valign="top"><a id="a0ef68be4e06e4b4947c86852d1005893"></a>
std::shared_ptr&lt; <a class="el" href="classov__type_1_1Vec.html">ov_type::Vec</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1State.html#a0ef68be4e06e4b4947c86852d1005893">_calib_dt_CAMtoIMU</a></td></tr>
<tr class="memdesc:a0ef68be4e06e4b4947c86852d1005893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time offset base IMU to camera (t_imu = t_cam + t_off) <br /></td></tr>
<tr class="separator:a0ef68be4e06e4b4947c86852d1005893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61797fa8310111f413c5c5b45c19460b"><td class="memItemLeft" align="right" valign="top"><a id="a61797fa8310111f413c5c5b45c19460b"></a>
std::unordered_map&lt; size_t, std::shared_ptr&lt; <a class="el" href="classov__type_1_1PoseJPL.html">ov_type::PoseJPL</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1State.html#a61797fa8310111f413c5c5b45c19460b">_calib_IMUtoCAM</a></td></tr>
<tr class="memdesc:a61797fa8310111f413c5c5b45c19460b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibration poses for each camera (R_ItoC, p_IinC) <br /></td></tr>
<tr class="separator:a61797fa8310111f413c5c5b45c19460b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5323d1f31a15c9b54b6696ffb5db353f"><td class="memItemLeft" align="right" valign="top"><a id="a5323d1f31a15c9b54b6696ffb5db353f"></a>
std::unordered_map&lt; size_t, std::shared_ptr&lt; <a class="el" href="classov__type_1_1Vec.html">ov_type::Vec</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1State.html#a5323d1f31a15c9b54b6696ffb5db353f">_cam_intrinsics</a></td></tr>
<tr class="memdesc:a5323d1f31a15c9b54b6696ffb5db353f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Camera intrinsics <br /></td></tr>
<tr class="separator:a5323d1f31a15c9b54b6696ffb5db353f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66308da3cab5bcc0098aadd5a16e874"><td class="memItemLeft" align="right" valign="top"><a id="af66308da3cab5bcc0098aadd5a16e874"></a>
std::unordered_map&lt; size_t, std::shared_ptr&lt; <a class="el" href="classov__core_1_1CamBase.html">ov_core::CamBase</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1State.html#af66308da3cab5bcc0098aadd5a16e874">_cam_intrinsics_cameras</a></td></tr>
<tr class="memdesc:af66308da3cab5bcc0098aadd5a16e874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Camera intrinsics camera objects <br /></td></tr>
<tr class="separator:af66308da3cab5bcc0098aadd5a16e874"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
友元</h2></td></tr>
<tr class="memitem:abaf77b0c719a76ee0fd7282a087577da"><td class="memItemLeft" align="right" valign="top"><a id="abaf77b0c719a76ee0fd7282a087577da"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>StateHelper</b></td></tr>
<tr class="separator:abaf77b0c719a76ee0fd7282a087577da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p><a class="el" href="classov__msckf_1_1State.html" title="State of our filter ">State</a> of our filter </p>
<p>This state has all the current estimates for the filter. This system is modeled after the MSCKF filter, thus we have a sliding window of clones. We additionally have more parameters for online estimation of calibration and SLAM features. We also have the covariance of the system, which should be managed using the <a class="el" href="classov__msckf_1_1StateHelper.html" title="Helper which manipulates the State and its covariance. ">StateHelper</a> class. </p>
</div><h2 class="groupheader">构造及析构函数说明</h2>
<a id="ad6098accfeb57e7eb8c8a22bfd45ec0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6098accfeb57e7eb8c8a22bfd45ec0b">&#9670;&nbsp;</a></span>State()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">State::State </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structov__msckf_1_1StateOptions.html">StateOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>options_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default Constructor (will initialize variables to defaults) </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">options_</td><td>Options structure containing filter options </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="a36420e71ffa54625667eac2a8a345582"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36420e71ffa54625667eac2a8a345582">&#9670;&nbsp;</a></span>margtimestep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ov_msckf::State::margtimestep </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Will return the timestep that we will marginalize next. As of right now, since we are using a sliding window, this is the oldest clone. But if you wanted to do a keyframe system, you could selectively marginalize clones. </p>
<dl class="section return"><dt>返回</dt><dd>timestep of clone we will marginalize </dd></dl>

</div>
</div>
<a id="a37c45cc1d3d1a3dcc46d3799a997355f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37c45cc1d3d1a3dcc46d3799a997355f">&#9670;&nbsp;</a></span>max_covariance_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ov_msckf::State::max_covariance_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates the current max size of the covariance </p>
<dl class="section return"><dt>返回</dt><dd>Size of the current covariance matrix </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
