<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenVINS: ov_init::StaticInitializer类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenVINS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceov__init.html">ov_init</a></li><li class="navelem"><a class="el" href="classov__init_1_1StaticInitializer.html">StaticInitializer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="classov__init_1_1StaticInitializer-members.html">所有成员列表</a>  </div>
  <div class="headertitle">
<div class="title">ov_init::StaticInitializer类 参考</div>  </div>
</div><!--header-->
<div class="contents">

<p>Initializer for a static visual-inertial system.  
 <a href="classov__init_1_1StaticInitializer.html#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="StaticInitializer_8h_source.html">StaticInitializer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:a7c0e4dfac3e8d54a2303fe2cc3137026"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__init_1_1StaticInitializer.html#a7c0e4dfac3e8d54a2303fe2cc3137026">StaticInitializer</a> (<a class="el" href="structov__init_1_1InertialInitializerOptions.html">InertialInitializerOptions</a> &amp;params_, std::shared_ptr&lt; <a class="el" href="classov__core_1_1FeatureDatabase.html">ov_core::FeatureDatabase</a> &gt; db, std::shared_ptr&lt; std::vector&lt; <a class="el" href="structov__core_1_1ImuData.html">ov_core::ImuData</a> &gt;&gt; imu_data_)</td></tr>
<tr class="memdesc:a7c0e4dfac3e8d54a2303fe2cc3137026"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor  <a href="#a7c0e4dfac3e8d54a2303fe2cc3137026">更多...</a><br /></td></tr>
<tr class="separator:a7c0e4dfac3e8d54a2303fe2cc3137026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f232bd33243300a7e0f212efb72232"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__init_1_1StaticInitializer.html#af7f232bd33243300a7e0f212efb72232">initialize</a> (double &amp;timestamp, Eigen::MatrixXd &amp;covariance, std::vector&lt; std::shared_ptr&lt; <a class="el" href="classov__type_1_1Type.html">ov_type::Type</a> &gt;&gt; &amp;order, std::shared_ptr&lt; <a class="el" href="classov__type_1_1IMU.html">ov_type::IMU</a> &gt; t_imu, bool wait_for_jerk=true)</td></tr>
<tr class="memdesc:af7f232bd33243300a7e0f212efb72232"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to get the initialized system using just the imu  <a href="#af7f232bd33243300a7e0f212efb72232">更多...</a><br /></td></tr>
<tr class="separator:af7f232bd33243300a7e0f212efb72232"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>Initializer for a static visual-inertial system. </p>
<p>This implementation that assumes that the imu starts from standing still. To initialize from standstill:</p><ol type="1">
<li>Collect all inertial measurements</li>
<li>See if within the last window there was a jump in acceleration</li>
<li>If the jump is past our threshold we should init (i.e. we have started moving)</li>
<li>Use the <em>previous</em> window, which should have been stationary to initialize orientation</li>
<li>Return a roll and pitch aligned with gravity and biases. </li>
</ol>
</div><h2 class="groupheader">构造及析构函数说明</h2>
<a id="a7c0e4dfac3e8d54a2303fe2cc3137026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c0e4dfac3e8d54a2303fe2cc3137026">&#9670;&nbsp;</a></span>StaticInitializer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ov_init::StaticInitializer::StaticInitializer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structov__init_1_1InertialInitializerOptions.html">InertialInitializerOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>params_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classov__core_1_1FeatureDatabase.html">ov_core::FeatureDatabase</a> &gt;&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; std::vector&lt; <a class="el" href="structov__core_1_1ImuData.html">ov_core::ImuData</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>imu_data_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">params_</td><td>Parameters loaded from either ROS or CMDLINE </td></tr>
    <tr><td class="paramname">db</td><td>Feature tracker database with all features in it </td></tr>
    <tr><td class="paramname">imu_data_</td><td>Shared pointer to our IMU vector of historical information </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="af7f232bd33243300a7e0f212efb72232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7f232bd33243300a7e0f212efb72232">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool StaticInitializer::initialize </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>covariance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classov__type_1_1Type.html">ov_type::Type</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classov__type_1_1IMU.html">ov_type::IMU</a> &gt;&#160;</td>
          <td class="paramname"><em>t_imu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wait_for_jerk</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to get the initialized system using just the imu </p>
<p>This will check if we have had a large enough jump in our acceleration. If we have then we will use the period of time before this jump to initialize the state. This assumes that our imu is sitting still and is not moving (so this would fail if we are experiencing constant acceleration).</p>
<p>In the case that we do not wait for a jump (i.e. <code>wait_for_jerk</code> is false), then the system will try to initialize as soon as possible. This is only recommended if you have zero velocity update enabled to handle the stationary cases. To initialize in this case, we need to have the average angular variance be below the set threshold (i.e. we need to be stationary).</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">timestamp</td><td>Timestamp we have initialized the state at </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">covariance</td><td>Calculated covariance of the returned state </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">order</td><td>Order of the covariance matrix </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">t_imu</td><td>Our imu type element </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">wait_for_jerk</td><td>If true we will wait for a "jerk" </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>True if we have successfully initialized our system </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
