<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenVINS: ov_msckf::UpdaterHelper类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenVINS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceov__msckf.html">ov_msckf</a></li><li class="navelem"><a class="el" href="classov__msckf_1_1UpdaterHelper.html">UpdaterHelper</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">类</a> &#124;
<a href="#pub-static-methods">静态 Public 成员函数</a> &#124;
<a href="classov__msckf_1_1UpdaterHelper-members.html">所有成员列表</a>  </div>
  <div class="headertitle">
<div class="title">ov_msckf::UpdaterHelper类 参考</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class that has helper functions for our updaters.  
 <a href="classov__msckf_1_1UpdaterHelper.html#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="UpdaterHelper_8h_source.html">UpdaterHelper.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
类</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structov__msckf_1_1UpdaterHelper_1_1UpdaterHelperFeature.html">UpdaterHelperFeature</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Feature object that our <a class="el" href="classov__msckf_1_1UpdaterHelper.html" title="Class that has helper functions for our updaters. ">UpdaterHelper</a> leverages, has all measurements and means  <a href="structov__msckf_1_1UpdaterHelper_1_1UpdaterHelperFeature.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
静态 Public 成员函数</h2></td></tr>
<tr class="memitem:a56158bf8f62681bb1458500589d80aa7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1UpdaterHelper.html#a56158bf8f62681bb1458500589d80aa7">get_feature_jacobian_representation</a> (std::shared_ptr&lt; <a class="el" href="classov__msckf_1_1State.html">State</a> &gt; state, <a class="el" href="structov__msckf_1_1UpdaterHelper_1_1UpdaterHelperFeature.html">UpdaterHelperFeature</a> &amp;feature, Eigen::MatrixXd &amp;H_f, std::vector&lt; Eigen::MatrixXd &gt; &amp;H_x, std::vector&lt; std::shared_ptr&lt; <a class="el" href="classov__type_1_1Type.html">ov_type::Type</a> &gt;&gt; &amp;x_order)</td></tr>
<tr class="memdesc:a56158bf8f62681bb1458500589d80aa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This gets the feature and state Jacobian in respect to the feature representation  <a href="#a56158bf8f62681bb1458500589d80aa7">更多...</a><br /></td></tr>
<tr class="separator:a56158bf8f62681bb1458500589d80aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83ba71455395ed13bbd15eb9134a6075"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1UpdaterHelper.html#a83ba71455395ed13bbd15eb9134a6075">get_feature_jacobian_full</a> (std::shared_ptr&lt; <a class="el" href="classov__msckf_1_1State.html">State</a> &gt; state, <a class="el" href="structov__msckf_1_1UpdaterHelper_1_1UpdaterHelperFeature.html">UpdaterHelperFeature</a> &amp;feature, Eigen::MatrixXd &amp;H_f, Eigen::MatrixXd &amp;H_x, Eigen::VectorXd &amp;res, std::vector&lt; std::shared_ptr&lt; <a class="el" href="classov__type_1_1Type.html">ov_type::Type</a> &gt;&gt; &amp;x_order)</td></tr>
<tr class="memdesc:a83ba71455395ed13bbd15eb9134a6075"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will construct the "stacked" Jacobians for a single feature from all its measurements  <a href="#a83ba71455395ed13bbd15eb9134a6075">更多...</a><br /></td></tr>
<tr class="separator:a83ba71455395ed13bbd15eb9134a6075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cbdb9addf936d5cf101a9a9bda79f3b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1UpdaterHelper.html#a5cbdb9addf936d5cf101a9a9bda79f3b">nullspace_project_inplace</a> (Eigen::MatrixXd &amp;H_f, Eigen::MatrixXd &amp;H_x, Eigen::VectorXd &amp;res)</td></tr>
<tr class="memdesc:a5cbdb9addf936d5cf101a9a9bda79f3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will project the left nullspace of H_f onto the linear system.  <a href="#a5cbdb9addf936d5cf101a9a9bda79f3b">更多...</a><br /></td></tr>
<tr class="separator:a5cbdb9addf936d5cf101a9a9bda79f3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45c5fab93318114f765bf29e9e42a3f3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__msckf_1_1UpdaterHelper.html#a45c5fab93318114f765bf29e9e42a3f3">measurement_compress_inplace</a> (Eigen::MatrixXd &amp;H_x, Eigen::VectorXd &amp;res)</td></tr>
<tr class="memdesc:a45c5fab93318114f765bf29e9e42a3f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will perform measurement compression  <a href="#a45c5fab93318114f765bf29e9e42a3f3">更多...</a><br /></td></tr>
<tr class="separator:a45c5fab93318114f765bf29e9e42a3f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>Class that has helper functions for our updaters. </p>
<p>Can compute the Jacobian for a single feature representation. This will create the Jacobian based on what representation our state is in. If we are using the anchor representation then we also have additional Jacobians in respect to the anchor state. Also has functions such as nullspace projection and full jacobian construction. For derivations look at <a class="el" href="update-feat.html">Camera Measurement Update</a> page which has detailed equations. </p>
</div><h2 class="groupheader">成员函数说明</h2>
<a id="a83ba71455395ed13bbd15eb9134a6075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83ba71455395ed13bbd15eb9134a6075">&#9670;&nbsp;</a></span>get_feature_jacobian_full()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UpdaterHelper::get_feature_jacobian_full </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classov__msckf_1_1State.html">State</a> &gt;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structov__msckf_1_1UpdaterHelper_1_1UpdaterHelperFeature.html">UpdaterHelperFeature</a> &amp;&#160;</td>
          <td class="paramname"><em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>H_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>H_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::VectorXd &amp;&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classov__type_1_1Type.html">ov_type::Type</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>x_order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Will construct the "stacked" Jacobians for a single feature from all its measurements </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td><a class="el" href="classov__msckf_1_1State.html" title="State of our filter ">State</a> of the filter system </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">feature</td><td>Feature we want to get Jacobians of (must have feature means) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">H_f</td><td>Jacobians in respect to the feature error state </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">H_x</td><td>Extra Jacobians in respect to the state (for example anchored pose) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">res</td><td>Measurement residual for this feature </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">x_order</td><td>Extra variables our extra Jacobian has (for example anchored pose) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a56158bf8f62681bb1458500589d80aa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56158bf8f62681bb1458500589d80aa7">&#9670;&nbsp;</a></span>get_feature_jacobian_representation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UpdaterHelper::get_feature_jacobian_representation </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classov__msckf_1_1State.html">State</a> &gt;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structov__msckf_1_1UpdaterHelper_1_1UpdaterHelperFeature.html">UpdaterHelperFeature</a> &amp;&#160;</td>
          <td class="paramname"><em>feature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>H_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; Eigen::MatrixXd &gt; &amp;&#160;</td>
          <td class="paramname"><em>H_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classov__type_1_1Type.html">ov_type::Type</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>x_order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This gets the feature and state Jacobian in respect to the feature representation </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td><a class="el" href="classov__msckf_1_1State.html" title="State of our filter ">State</a> of the filter system </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">feature</td><td>Feature we want to get Jacobians of (must have feature means) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">H_f</td><td>Jacobians in respect to the feature error state (will be either 3x3 or 3x1 for single depth) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">H_x</td><td>Extra Jacobians in respect to the state (for example anchored pose) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">x_order</td><td>Extra variables our extra Jacobian has (for example anchored pose) </td></tr>
  </table>
  </dd>
</dl>
<p>CASE: Estimate single depth of the feature using the initial bearing </p>

</div>
</div>
<a id="a45c5fab93318114f765bf29e9e42a3f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45c5fab93318114f765bf29e9e42a3f3">&#9670;&nbsp;</a></span>measurement_compress_inplace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UpdaterHelper::measurement_compress_inplace </td>
          <td>(</td>
          <td class="paramtype">Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>H_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::VectorXd &amp;&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This will perform measurement compression </p>
<p>Please see the <a class="el" href="update-compress.html">Measurement Compression</a> for details on how this works. Note that this is done <b>in place</b> so all matrices will be different after a function call.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">H_x</td><td><a class="el" href="classov__msckf_1_1State.html" title="State of our filter ">State</a> jacobian </td></tr>
    <tr><td class="paramname">res</td><td>Measurement residual </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5cbdb9addf936d5cf101a9a9bda79f3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cbdb9addf936d5cf101a9a9bda79f3b">&#9670;&nbsp;</a></span>nullspace_project_inplace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UpdaterHelper::nullspace_project_inplace </td>
          <td>(</td>
          <td class="paramtype">Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>H_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::MatrixXd &amp;&#160;</td>
          <td class="paramname"><em>H_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::VectorXd &amp;&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This will project the left nullspace of H_f onto the linear system. </p>
<p>Please see the <a class="el" href="update-null.html">MSCKF Nullspace Projection</a> for details on how this works. This is the MSCKF nullspace projection which removes the dependency on the feature state. Note that this is done <b>in place</b> so all matrices will be different after a function call.</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">H_f</td><td>Jacobian with nullspace we want to project onto the system [res = Hx*(x-xhat)+Hf(f-fhat)+n] </td></tr>
    <tr><td class="paramname">H_x</td><td><a class="el" href="classov__msckf_1_1State.html" title="State of our filter ">State</a> jacobian </td></tr>
    <tr><td class="paramname">res</td><td>Measurement residual </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
