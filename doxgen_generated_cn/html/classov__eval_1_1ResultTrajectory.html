<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenVINS: ov_eval::ResultTrajectory类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenVINS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceov__eval.html">ov_eval</a></li><li class="navelem"><a class="el" href="classov__eval_1_1ResultTrajectory.html">ResultTrajectory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="#pro-methods">Protected 成员函数</a> &#124;
<a href="#pro-attribs">Protected 属性</a> &#124;
<a href="classov__eval_1_1ResultTrajectory-members.html">所有成员列表</a>  </div>
  <div class="headertitle">
<div class="title">ov_eval::ResultTrajectory类 参考</div>  </div>
</div><!--header-->
<div class="contents">

<p>A single run for a given dataset.  
 <a href="classov__eval_1_1ResultTrajectory.html#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="ResultTrajectory_8h_source.html">ResultTrajectory.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:a91d8d079db9f290d384746b7a030e336"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__eval_1_1ResultTrajectory.html#a91d8d079db9f290d384746b7a030e336">ResultTrajectory</a> (std::string path_est, std::string path_gt, std::string alignment_method)</td></tr>
<tr class="memdesc:a91d8d079db9f290d384746b7a030e336"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor that will load, intersect, and align our trajectories.  <a href="#a91d8d079db9f290d384746b7a030e336">更多...</a><br /></td></tr>
<tr class="separator:a91d8d079db9f290d384746b7a030e336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa82df799f7eb6ccc6f7665cd7a383c40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__eval_1_1ResultTrajectory.html#aa82df799f7eb6ccc6f7665cd7a383c40">calculate_ate</a> (<a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;error_ori, <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;error_pos)</td></tr>
<tr class="memdesc:aa82df799f7eb6ccc6f7665cd7a383c40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the Absolute Trajectory Error (ATE) for this trajectory.  <a href="#aa82df799f7eb6ccc6f7665cd7a383c40">更多...</a><br /></td></tr>
<tr class="separator:aa82df799f7eb6ccc6f7665cd7a383c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea298386d6615b31a75e9578baf77497"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__eval_1_1ResultTrajectory.html#aea298386d6615b31a75e9578baf77497">calculate_ate_2d</a> (<a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;error_ori, <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;error_pos)</td></tr>
<tr class="memdesc:aea298386d6615b31a75e9578baf77497"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the Absolute Trajectory Error (ATE) for this trajectory in the 2d x-y plane.  <a href="#aea298386d6615b31a75e9578baf77497">更多...</a><br /></td></tr>
<tr class="separator:aea298386d6615b31a75e9578baf77497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf4d8b00abdf68692ceaa85b5c1c5b0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__eval_1_1ResultTrajectory.html#abf4d8b00abdf68692ceaa85b5c1c5b0f">calculate_rpe</a> (const std::vector&lt; double &gt; &amp;segment_lengths, std::map&lt; double, std::pair&lt; <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a>, <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &gt;&gt; &amp;error_rpe)</td></tr>
<tr class="memdesc:abf4d8b00abdf68692ceaa85b5c1c5b0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the Relative Pose Error (RPE) for this trajectory  <a href="#abf4d8b00abdf68692ceaa85b5c1c5b0f">更多...</a><br /></td></tr>
<tr class="separator:abf4d8b00abdf68692ceaa85b5c1c5b0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8ed667bd451302f503b2bc761796d9f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__eval_1_1ResultTrajectory.html#ad8ed667bd451302f503b2bc761796d9f">calculate_nees</a> (<a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;nees_ori, <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;nees_pos)</td></tr>
<tr class="memdesc:ad8ed667bd451302f503b2bc761796d9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the Normalized Estimation Error Squared (NEES) for this trajectory.  <a href="#ad8ed667bd451302f503b2bc761796d9f">更多...</a><br /></td></tr>
<tr class="separator:ad8ed667bd451302f503b2bc761796d9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c8675c3a9ebc8415e41c38175691e46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__eval_1_1ResultTrajectory.html#a8c8675c3a9ebc8415e41c38175691e46">calculate_error</a> (<a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;posx, <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;posy, <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;posz, <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;orix, <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;oriy, <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;oriz, <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;roll, <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;pitch, <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;yaw)</td></tr>
<tr class="memdesc:a8c8675c3a9ebc8415e41c38175691e46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the error at each timestamp for this trajectory.  <a href="#a8c8675c3a9ebc8415e41c38175691e46">更多...</a><br /></td></tr>
<tr class="separator:a8c8675c3a9ebc8415e41c38175691e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected 成员函数</h2></td></tr>
<tr class="memitem:af47fbcba5026b01aeb00df5c835ba296"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__eval_1_1ResultTrajectory.html#af47fbcba5026b01aeb00df5c835ba296">compute_comparison_indices_length</a> (std::vector&lt; double &gt; &amp;distances, double distance, double max_dist_diff)</td></tr>
<tr class="memdesc:af47fbcba5026b01aeb00df5c835ba296"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the indices at the end of subtractories of a given length when starting at each index. For each starting pose, find the end pose index which is the desired distance away.  <a href="#af47fbcba5026b01aeb00df5c835ba296">更多...</a><br /></td></tr>
<tr class="separator:af47fbcba5026b01aeb00df5c835ba296"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected 属性</h2></td></tr>
<tr class="memitem:a2e78209342b80d1ac3115bad38ef397c"><td class="memItemLeft" align="right" valign="top"><a id="a2e78209342b80d1ac3115bad38ef397c"></a>
std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>est_times</b></td></tr>
<tr class="separator:a2e78209342b80d1ac3115bad38ef397c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d985814985338546e06b9a5a49b153e"><td class="memItemLeft" align="right" valign="top"><a id="a7d985814985338546e06b9a5a49b153e"></a>
std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>gt_times</b></td></tr>
<tr class="separator:a7d985814985338546e06b9a5a49b153e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af603360e09c66c552f08f144aa399b4b"><td class="memItemLeft" align="right" valign="top"><a id="af603360e09c66c552f08f144aa399b4b"></a>
std::vector&lt; Eigen::Matrix&lt; double, 7, 1 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>est_poses</b></td></tr>
<tr class="separator:af603360e09c66c552f08f144aa399b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27988db61fab2b6154665c5cf5f5eb66"><td class="memItemLeft" align="right" valign="top"><a id="a27988db61fab2b6154665c5cf5f5eb66"></a>
std::vector&lt; Eigen::Matrix&lt; double, 7, 1 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>gt_poses</b></td></tr>
<tr class="separator:a27988db61fab2b6154665c5cf5f5eb66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80f44e2b04fafe8114962438abe9164a"><td class="memItemLeft" align="right" valign="top"><a id="a80f44e2b04fafe8114962438abe9164a"></a>
std::vector&lt; Eigen::Matrix3d &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>est_covori</b></td></tr>
<tr class="separator:a80f44e2b04fafe8114962438abe9164a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b3adeb0603f3197484be750db827b39"><td class="memItemLeft" align="right" valign="top"><a id="a4b3adeb0603f3197484be750db827b39"></a>
std::vector&lt; Eigen::Matrix3d &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>est_covpos</b></td></tr>
<tr class="separator:a4b3adeb0603f3197484be750db827b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add4899b2111a01e8e3ea9d29618b0ce4"><td class="memItemLeft" align="right" valign="top"><a id="add4899b2111a01e8e3ea9d29618b0ce4"></a>
std::vector&lt; Eigen::Matrix3d &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>gt_covori</b></td></tr>
<tr class="separator:add4899b2111a01e8e3ea9d29618b0ce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32637a737e1bb09cfe0d6e71fa3d8ccd"><td class="memItemLeft" align="right" valign="top"><a id="a32637a737e1bb09cfe0d6e71fa3d8ccd"></a>
std::vector&lt; Eigen::Matrix3d &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>gt_covpos</b></td></tr>
<tr class="separator:a32637a737e1bb09cfe0d6e71fa3d8ccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dfef04471027bb002081c55674e41d9"><td class="memItemLeft" align="right" valign="top"><a id="a9dfef04471027bb002081c55674e41d9"></a>
std::vector&lt; Eigen::Matrix&lt; double, 7, 1 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>est_poses_aignedtoGT</b></td></tr>
<tr class="separator:a9dfef04471027bb002081c55674e41d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39957e134124c8f5cc61522df94a03fe"><td class="memItemLeft" align="right" valign="top"><a id="a39957e134124c8f5cc61522df94a03fe"></a>
std::vector&lt; Eigen::Matrix&lt; double, 7, 1 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>gt_poses_aignedtoEST</b></td></tr>
<tr class="separator:a39957e134124c8f5cc61522df94a03fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>A single run for a given dataset. </p>
<p>This class has all the error function which can be calculated for the loaded trajectory. Given a groundtruth and trajectory we first align the two so that they are in the same frame. From there the following errors could be computed:</p><ul>
<li>Absolute trajectory error</li>
<li>Relative pose Error</li>
<li>Normalized estimation error squared</li>
<li>Error and bound at each timestep</li>
</ul>
<p>Please see the <a class="el" href="evaluation.html">System Evaluation</a> page for details and Zhang and Scaramuzza <a href="http://rpg.ifi.uzh.ch/docs/IROS18_Zhang.pdf">A Tutorial on Quantitative Trajectory Evaluation for Visual(-Inertial) Odometry</a> paper for implementation specific details. </p>
</div><h2 class="groupheader">构造及析构函数说明</h2>
<a id="a91d8d079db9f290d384746b7a030e336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91d8d079db9f290d384746b7a030e336">&#9670;&nbsp;</a></span>ResultTrajectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ResultTrajectory::ResultTrajectory </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>path_est</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>path_gt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>alignment_method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor that will load, intersect, and align our trajectories. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">path_est</td><td>Path to the estimate text file </td></tr>
    <tr><td class="paramname">path_gt</td><td>Path to the groundtruth text file </td></tr>
    <tr><td class="paramname">alignment_method</td><td>The alignment method to use [sim3, se3, posyaw, none] </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="aa82df799f7eb6ccc6f7665cd7a383c40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa82df799f7eb6ccc6f7665cd7a383c40">&#9670;&nbsp;</a></span>calculate_ate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ResultTrajectory::calculate_ate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>error_ori</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>error_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the Absolute Trajectory Error (ATE) for this trajectory. </p>
<p>This will first do our alignment of the two trajectories. Then at each point the error will be calculated and normed as follows: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\begin{align*} e_{ATE} &amp;= \sqrt{ \frac{1}{K} \sum_{k=1}^{K} ||\mathbf{x}_{k,i} \boxminus \hat{\mathbf{x}}^+_{k,i}||^2_{2} } \end{align*}" src="form_339.png"/>
</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">error_ori</td><td>Error values for the orientation </td></tr>
    <tr><td class="paramname">error_pos</td><td>Error values for the position </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aea298386d6615b31a75e9578baf77497"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea298386d6615b31a75e9578baf77497">&#9670;&nbsp;</a></span>calculate_ate_2d()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ResultTrajectory::calculate_ate_2d </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>error_ori</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>error_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the Absolute Trajectory Error (ATE) for this trajectory in the 2d x-y plane. </p>
<p>This will first do our alignment of the two trajectories. We just grab the yaw component of the orientation and the xy plane error. Then at each point the error will be calculated and normed as follows: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\begin{align*} e_{ATE} &amp;= \sqrt{ \frac{1}{K} \sum_{k=1}^{K} ||\mathbf{x}_{k,i} \boxminus \hat{\mathbf{x}}^+_{k,i}||^2_{2} } \end{align*}" src="form_339.png"/>
</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">error_ori</td><td>Error values for the orientation (yaw error) </td></tr>
    <tr><td class="paramname">error_pos</td><td>Error values for the position (xy error) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8c8675c3a9ebc8415e41c38175691e46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c8675c3a9ebc8415e41c38175691e46">&#9670;&nbsp;</a></span>calculate_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ResultTrajectory::calculate_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>posx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>posy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>posz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>orix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>oriy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>oriz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>roll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>yaw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the error at each timestamp for this trajectory. </p>
<p>As compared to ATE error (see <a class="el" href="classov__eval_1_1ResultTrajectory.html#aa82df799f7eb6ccc6f7665cd7a383c40">calculate_ate()</a>) this will compute the error for each individual pose component. This is normally used if you just want to look at a single run on a single dataset. </p><p class="formulaDsp">
<img class="formulaDsp" alt="\begin{align*} e_{rmse,k} &amp;= \sqrt{ \frac{1}{N} \sum_{i=1}^{N} ||\mathbf{x}_{k,i} \boxminus \hat{\mathbf{x}}_{k,i}||^2_{2} } \end{align*}" src="form_10.png"/>
</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">posx</td><td>Position x-axis error and bound if we have it in our file </td></tr>
    <tr><td class="paramname">posy</td><td>Position y-axis error and bound if we have it in our file </td></tr>
    <tr><td class="paramname">posz</td><td>Position z-axis error and bound if we have it in our file </td></tr>
    <tr><td class="paramname">orix</td><td>Orientation x-axis error and bound if we have it in our file </td></tr>
    <tr><td class="paramname">oriy</td><td>Orientation y-axis error and bound if we have it in our file </td></tr>
    <tr><td class="paramname">oriz</td><td>Orientation z-axis error and bound if we have it in our file </td></tr>
    <tr><td class="paramname">roll</td><td>Orientation roll error and bound if we have it in our file </td></tr>
    <tr><td class="paramname">pitch</td><td>Orientation pitch error and bound if we have it in our file </td></tr>
    <tr><td class="paramname">yaw</td><td>Orientation yaw error and bound if we have it in our file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad8ed667bd451302f503b2bc761796d9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8ed667bd451302f503b2bc761796d9f">&#9670;&nbsp;</a></span>calculate_nees()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ResultTrajectory::calculate_nees </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>nees_ori</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>nees_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the Normalized Estimation Error Squared (NEES) for this trajectory. </p>
<p>If we have a covariance in addition to our pose estimate we can compute the NEES values. At each timestep we compute this for both orientation and position. </p><p class="formulaDsp">
<img class="formulaDsp" alt="\begin{align*} e_{nees,k} &amp;= \frac{1}{N} \sum_{i=1}^{N} (\mathbf{x}_{k,i} \boxminus \hat{\mathbf{x}}_{k,i})^\top \mathbf{P}^{-1}_{k,i} (\mathbf{x}_{k,i} \boxminus \hat{\mathbf{x}}_{k,i}) \end{align*}" src="form_11.png"/>
</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">nees_ori</td><td>NEES values for the orientation </td></tr>
    <tr><td class="paramname">nees_pos</td><td>NEES values for the position </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abf4d8b00abdf68692ceaa85b5c1c5b0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf4d8b00abdf68692ceaa85b5c1c5b0f">&#9670;&nbsp;</a></span>calculate_rpe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ResultTrajectory::calculate_rpe </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>segment_lengths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; double, std::pair&lt; <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a>, <a class="el" href="structov__eval_1_1Statistics.html">Statistics</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>error_rpe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the Relative Pose Error (RPE) for this trajectory </p>
<p>For the given set of segment lengths, this will split the trajectory into segments. From there it will compute the relative pose error for all segments. These are then returned as a map for each segment length. </p><p class="formulaDsp">
<img class="formulaDsp" alt="\begin{align*} \tilde{\mathbf{x}}_{r} &amp;= \mathbf{x}_{k} \boxminus \mathbf{x}_{k+d_i} \\ e_{rpe,d_i} &amp;= \frac{1}{D_i} \sum_{k=1}^{D_i} ||\tilde{\mathbf{x}}_{r} \boxminus \hat{\tilde{\mathbf{x}}}_{r}||^2_{2} \end{align*}" src="form_340.png"/>
</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">segment_lengths</td><td>What segment lengths we want to calculate for </td></tr>
    <tr><td class="paramname">error_rpe</td><td>Map of segment lengths =&gt; errors for that length (orientation and position) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af47fbcba5026b01aeb00df5c835ba296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af47fbcba5026b01aeb00df5c835ba296">&#9670;&nbsp;</a></span>compute_comparison_indices_length()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; ov_eval::ResultTrajectory::compute_comparison_indices_length </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>distances</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_dist_diff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the indices at the end of subtractories of a given length when starting at each index. For each starting pose, find the end pose index which is the desired distance away. </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">distances</td><td>Total distance travelled from start at each index </td></tr>
    <tr><td class="paramname">distance</td><td>Distance of subtrajectory </td></tr>
    <tr><td class="paramname">max_dist_diff</td><td>Maximum error between current trajectory length and the desired </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>End indices for each subtrajectory </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
