<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenVINS: ov_core::TrackKLT Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenVINS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceov__core.html">ov_core</a></li><li class="navelem"><a class="el" href="classov__core_1_1TrackKLT.html">TrackKLT</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classov__core_1_1TrackKLT-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ov_core::TrackKLT Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>KLT tracking of features.  
 <a href="classov__core_1_1TrackKLT.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="TrackKLT_8h_source.html">TrackKLT.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acb59382fb0893c546e612fa20ca0672b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackKLT.html#acb59382fb0893c546e612fa20ca0672b">TrackKLT</a> (std::unordered_map&lt; size_t, std::shared_ptr&lt; <a class="el" href="classov__core_1_1CamBase.html">CamBase</a> &gt;&gt; cameras, int numfeats, int numaruco, bool stereo, <a class="el" href="classov__core_1_1TrackBase.html#aa4b34a5dce99b59522d57bf9278c9a1a">HistogramMethod</a> histmethod, int fast_threshold, int gridx, int gridy, int minpxdist)</td></tr>
<tr class="memdesc:acb59382fb0893c546e612fa20ca0672b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public constructor with configuration variables.  <a href="#acb59382fb0893c546e612fa20ca0672b">More...</a><br /></td></tr>
<tr class="separator:acb59382fb0893c546e612fa20ca0672b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cb9c3595fbbddc9a563137cd06b07cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackKLT.html#a8cb9c3595fbbddc9a563137cd06b07cf">feed_new_camera</a> (const <a class="el" href="structov__core_1_1CameraData.html">CameraData</a> &amp;message) override</td></tr>
<tr class="memdesc:a8cb9c3595fbbddc9a563137cd06b07cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a new image.  <a href="#a8cb9c3595fbbddc9a563137cd06b07cf">More...</a><br /></td></tr>
<tr class="separator:a8cb9c3595fbbddc9a563137cd06b07cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classov__core_1_1TrackBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classov__core_1_1TrackBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classov__core_1_1TrackBase.html">ov_core::TrackBase</a></td></tr>
<tr class="memitem:a645127d6e03e66b96959ececccb3ffc0 inherit pub_methods_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a645127d6e03e66b96959ececccb3ffc0">TrackBase</a> (std::unordered_map&lt; size_t, std::shared_ptr&lt; <a class="el" href="classov__core_1_1CamBase.html">CamBase</a> &gt;&gt; cameras, int numfeats, int numaruco, bool stereo, <a class="el" href="classov__core_1_1TrackBase.html#aa4b34a5dce99b59522d57bf9278c9a1a">HistogramMethod</a> histmethod)</td></tr>
<tr class="memdesc:a645127d6e03e66b96959ececccb3ffc0 inherit pub_methods_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public constructor with configuration variables.  <a href="classov__core_1_1TrackBase.html#a645127d6e03e66b96959ececccb3ffc0">More...</a><br /></td></tr>
<tr class="separator:a645127d6e03e66b96959ececccb3ffc0 inherit pub_methods_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01c002a52290030fb86955ed6706f658 inherit pub_methods_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a01c002a52290030fb86955ed6706f658">display_active</a> (cv::Mat &amp;img_out, int r1, int g1, int b1, int r2, int g2, int b2, std::string overlay=&quot;&quot;)</td></tr>
<tr class="memdesc:a01c002a52290030fb86955ed6706f658 inherit pub_methods_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows features extracted in the last image.  <a href="classov__core_1_1TrackBase.html#a01c002a52290030fb86955ed6706f658">More...</a><br /></td></tr>
<tr class="separator:a01c002a52290030fb86955ed6706f658 inherit pub_methods_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae90a40ff97cf87e1fe58e278d49c2f5b inherit pub_methods_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#ae90a40ff97cf87e1fe58e278d49c2f5b">display_history</a> (cv::Mat &amp;img_out, int r1, int g1, int b1, int r2, int g2, int b2, std::vector&lt; size_t &gt; highlighted={}, std::string overlay=&quot;&quot;)</td></tr>
<tr class="memdesc:ae90a40ff97cf87e1fe58e278d49c2f5b inherit pub_methods_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows a "trail" for each feature (i.e. its history)  <a href="classov__core_1_1TrackBase.html#ae90a40ff97cf87e1fe58e278d49c2f5b">More...</a><br /></td></tr>
<tr class="separator:ae90a40ff97cf87e1fe58e278d49c2f5b inherit pub_methods_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebcef580e2c1639d45bcb74e2bc516aa inherit pub_methods_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classov__core_1_1FeatureDatabase.html">FeatureDatabase</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#aebcef580e2c1639d45bcb74e2bc516aa">get_feature_database</a> ()</td></tr>
<tr class="memdesc:aebcef580e2c1639d45bcb74e2bc516aa inherit pub_methods_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the feature database with all the track information.  <a href="classov__core_1_1TrackBase.html#aebcef580e2c1639d45bcb74e2bc516aa">More...</a><br /></td></tr>
<tr class="separator:aebcef580e2c1639d45bcb74e2bc516aa inherit pub_methods_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f4f7f1c4de3c33a254c14b1f96af5a0 inherit pub_methods_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a8f4f7f1c4de3c33a254c14b1f96af5a0">change_feat_id</a> (size_t id_old, size_t id_new)</td></tr>
<tr class="memdesc:a8f4f7f1c4de3c33a254c14b1f96af5a0 inherit pub_methods_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the ID of an actively tracked feature to another one.  <a href="classov__core_1_1TrackBase.html#a8f4f7f1c4de3c33a254c14b1f96af5a0">More...</a><br /></td></tr>
<tr class="separator:a8f4f7f1c4de3c33a254c14b1f96af5a0 inherit pub_methods_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35238206253104bd568d1321dd767610 inherit pub_methods_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a35238206253104bd568d1321dd767610"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a35238206253104bd568d1321dd767610">get_num_features</a> ()</td></tr>
<tr class="memdesc:a35238206253104bd568d1321dd767610 inherit pub_methods_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter method for number of active features. <br /></td></tr>
<tr class="separator:a35238206253104bd568d1321dd767610 inherit pub_methods_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d20228c100c753217043e7ebb5f99e inherit pub_methods_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a91d20228c100c753217043e7ebb5f99e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a91d20228c100c753217043e7ebb5f99e">set_num_features</a> (int _num_features)</td></tr>
<tr class="memdesc:a91d20228c100c753217043e7ebb5f99e inherit pub_methods_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter method for number of active features. <br /></td></tr>
<tr class="separator:a91d20228c100c753217043e7ebb5f99e inherit pub_methods_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a74d790b70b686f8f4a9788ef765ab3b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackKLT.html#a74d790b70b686f8f4a9788ef765ab3b1">feed_monocular</a> (const <a class="el" href="structov__core_1_1CameraData.html">CameraData</a> &amp;message, size_t msg_id)</td></tr>
<tr class="memdesc:a74d790b70b686f8f4a9788ef765ab3b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a new monocular image.  <a href="#a74d790b70b686f8f4a9788ef765ab3b1">More...</a><br /></td></tr>
<tr class="separator:a74d790b70b686f8f4a9788ef765ab3b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0f2b1990992ed7dbd916732dd9d7a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackKLT.html#a7e0f2b1990992ed7dbd916732dd9d7a9">feed_stereo</a> (const <a class="el" href="structov__core_1_1CameraData.html">CameraData</a> &amp;message, size_t msg_id_left, size_t msg_id_right)</td></tr>
<tr class="memdesc:a7e0f2b1990992ed7dbd916732dd9d7a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process new stereo pair of images.  <a href="#a7e0f2b1990992ed7dbd916732dd9d7a9">More...</a><br /></td></tr>
<tr class="separator:a7e0f2b1990992ed7dbd916732dd9d7a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8443c645bf05d2ec7e5e14ae44150bcd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackKLT.html#a8443c645bf05d2ec7e5e14ae44150bcd">perform_detection_monocular</a> (const std::vector&lt; cv::Mat &gt; &amp;img0pyr, const cv::Mat &amp;mask0, std::vector&lt; cv::KeyPoint &gt; &amp;pts0, std::vector&lt; size_t &gt; &amp;ids0)</td></tr>
<tr class="memdesc:a8443c645bf05d2ec7e5e14ae44150bcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects new features in the current image.  <a href="#a8443c645bf05d2ec7e5e14ae44150bcd">More...</a><br /></td></tr>
<tr class="separator:a8443c645bf05d2ec7e5e14ae44150bcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c88ad139cd0a0e6633ec604fdee5a86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackKLT.html#a5c88ad139cd0a0e6633ec604fdee5a86">perform_detection_stereo</a> (const std::vector&lt; cv::Mat &gt; &amp;img0pyr, const std::vector&lt; cv::Mat &gt; &amp;img1pyr, const cv::Mat &amp;mask0, const cv::Mat &amp;mask1, size_t cam_id_left, size_t cam_id_right, std::vector&lt; cv::KeyPoint &gt; &amp;pts0, std::vector&lt; cv::KeyPoint &gt; &amp;pts1, std::vector&lt; size_t &gt; &amp;ids0, std::vector&lt; size_t &gt; &amp;ids1)</td></tr>
<tr class="memdesc:a5c88ad139cd0a0e6633ec604fdee5a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects new features in the current stereo pair.  <a href="#a5c88ad139cd0a0e6633ec604fdee5a86">More...</a><br /></td></tr>
<tr class="separator:a5c88ad139cd0a0e6633ec604fdee5a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7747a5ceca5c530350cf0c745a33bfe5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackKLT.html#a7747a5ceca5c530350cf0c745a33bfe5">perform_matching</a> (const std::vector&lt; cv::Mat &gt; &amp;img0pyr, const std::vector&lt; cv::Mat &gt; &amp;img1pyr, std::vector&lt; cv::KeyPoint &gt; &amp;pts0, std::vector&lt; cv::KeyPoint &gt; &amp;pts1, size_t id0, size_t id1, std::vector&lt; uchar &gt; &amp;mask_out)</td></tr>
<tr class="memdesc:a7747a5ceca5c530350cf0c745a33bfe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">KLT track between two images, and do RANSAC afterwards.  <a href="#a7747a5ceca5c530350cf0c745a33bfe5">More...</a><br /></td></tr>
<tr class="separator:a7747a5ceca5c530350cf0c745a33bfe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ab66cf20d8dbd8140c5dddc3d584456d5"><td class="memItemLeft" align="right" valign="top"><a id="ab66cf20d8dbd8140c5dddc3d584456d5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>threshold</b></td></tr>
<tr class="separator:ab66cf20d8dbd8140c5dddc3d584456d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afecb0e0e193ad6700b1d03dbdaaf2ec8"><td class="memItemLeft" align="right" valign="top"><a id="afecb0e0e193ad6700b1d03dbdaaf2ec8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>grid_x</b></td></tr>
<tr class="separator:afecb0e0e193ad6700b1d03dbdaaf2ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad41e009a38f832b55b833ad17e094b20"><td class="memItemLeft" align="right" valign="top"><a id="ad41e009a38f832b55b833ad17e094b20"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>grid_y</b></td></tr>
<tr class="separator:ad41e009a38f832b55b833ad17e094b20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcbe4f18535bc61a978eda8c9e55a724"><td class="memItemLeft" align="right" valign="top"><a id="afcbe4f18535bc61a978eda8c9e55a724"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>min_px_dist</b></td></tr>
<tr class="separator:afcbe4f18535bc61a978eda8c9e55a724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66578875c6e0313f25e53c1de196e9cc"><td class="memItemLeft" align="right" valign="top"><a id="a66578875c6e0313f25e53c1de196e9cc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>pyr_levels</b> = 5</td></tr>
<tr class="separator:a66578875c6e0313f25e53c1de196e9cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab345d0732346d1f2af5c4a90cd6d24db"><td class="memItemLeft" align="right" valign="top"><a id="ab345d0732346d1f2af5c4a90cd6d24db"></a>
cv::Size&#160;</td><td class="memItemRight" valign="bottom"><b>win_size</b> = cv::Size(15, 15)</td></tr>
<tr class="separator:ab345d0732346d1f2af5c4a90cd6d24db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ab430fba27de7331ea06b153db82826"><td class="memItemLeft" align="right" valign="top"><a id="a0ab430fba27de7331ea06b153db82826"></a>
std::map&lt; size_t, std::vector&lt; cv::Mat &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>img_pyramid_last</b></td></tr>
<tr class="separator:a0ab430fba27de7331ea06b153db82826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5240e79f3bd76eae568a5115b9c5e94f"><td class="memItemLeft" align="right" valign="top"><a id="a5240e79f3bd76eae568a5115b9c5e94f"></a>
std::map&lt; size_t, cv::Mat &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>img_curr</b></td></tr>
<tr class="separator:a5240e79f3bd76eae568a5115b9c5e94f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b7ce6ff25bfb1e09652e236cccc89c7"><td class="memItemLeft" align="right" valign="top"><a id="a0b7ce6ff25bfb1e09652e236cccc89c7"></a>
std::map&lt; size_t, std::vector&lt; cv::Mat &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>img_pyramid_curr</b></td></tr>
<tr class="separator:a0b7ce6ff25bfb1e09652e236cccc89c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classov__core_1_1TrackBase"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classov__core_1_1TrackBase')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classov__core_1_1TrackBase.html">ov_core::TrackBase</a></td></tr>
<tr class="memitem:a052a06d61aadf4a12a8739f0221d3e6b inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a052a06d61aadf4a12a8739f0221d3e6b"></a>
std::unordered_map&lt; size_t, std::shared_ptr&lt; <a class="el" href="classov__core_1_1CamBase.html">CamBase</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a052a06d61aadf4a12a8739f0221d3e6b">camera_calib</a></td></tr>
<tr class="memdesc:a052a06d61aadf4a12a8739f0221d3e6b inherit pro_attribs_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Camera object which has all calibration in it. <br /></td></tr>
<tr class="separator:a052a06d61aadf4a12a8739f0221d3e6b inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a832d13076b7d5ef3d6481deb5ce3000d inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a832d13076b7d5ef3d6481deb5ce3000d"></a>
std::shared_ptr&lt; <a class="el" href="classov__core_1_1FeatureDatabase.html">FeatureDatabase</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a832d13076b7d5ef3d6481deb5ce3000d">database</a></td></tr>
<tr class="memdesc:a832d13076b7d5ef3d6481deb5ce3000d inherit pro_attribs_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Database with all our current features. <br /></td></tr>
<tr class="separator:a832d13076b7d5ef3d6481deb5ce3000d inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10325315c2e52ab8367097d57b7020c6 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a10325315c2e52ab8367097d57b7020c6"></a>
std::map&lt; size_t, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a10325315c2e52ab8367097d57b7020c6">camera_fisheye</a></td></tr>
<tr class="memdesc:a10325315c2e52ab8367097d57b7020c6 inherit pro_attribs_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">If we are a fisheye model or not. <br /></td></tr>
<tr class="separator:a10325315c2e52ab8367097d57b7020c6 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22e5b8a82308be5190933e5991891e9a inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a22e5b8a82308be5190933e5991891e9a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a22e5b8a82308be5190933e5991891e9a">num_features</a></td></tr>
<tr class="memdesc:a22e5b8a82308be5190933e5991891e9a inherit pro_attribs_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of features we should try to track frame to frame. <br /></td></tr>
<tr class="separator:a22e5b8a82308be5190933e5991891e9a inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33375ebbd4b3ebcd69c782e897847276 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a33375ebbd4b3ebcd69c782e897847276"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a33375ebbd4b3ebcd69c782e897847276">use_stereo</a></td></tr>
<tr class="memdesc:a33375ebbd4b3ebcd69c782e897847276 inherit pro_attribs_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">If we should use binocular tracking or stereo tracking for multi-camera. <br /></td></tr>
<tr class="separator:a33375ebbd4b3ebcd69c782e897847276 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbd2200d5a77254ee57e5a86f9e367c6 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="adbd2200d5a77254ee57e5a86f9e367c6"></a>
<a class="el" href="classov__core_1_1TrackBase.html#aa4b34a5dce99b59522d57bf9278c9a1a">HistogramMethod</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#adbd2200d5a77254ee57e5a86f9e367c6">histogram_method</a></td></tr>
<tr class="memdesc:adbd2200d5a77254ee57e5a86f9e367c6 inherit pro_attribs_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">What histogram equalization method we should pre-process images with? <br /></td></tr>
<tr class="separator:adbd2200d5a77254ee57e5a86f9e367c6 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d9a970b148abdee71e1ace835c38c7c inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a8d9a970b148abdee71e1ace835c38c7c"></a>
std::vector&lt; std::mutex &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a8d9a970b148abdee71e1ace835c38c7c">mtx_feeds</a></td></tr>
<tr class="memdesc:a8d9a970b148abdee71e1ace835c38c7c inherit pro_attribs_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutexs for our last set of image storage (img_last, pts_last, and ids_last) <br /></td></tr>
<tr class="separator:a8d9a970b148abdee71e1ace835c38c7c inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc70de91df5ec14f4db66414a71f0fbb inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="afc70de91df5ec14f4db66414a71f0fbb"></a>
std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#afc70de91df5ec14f4db66414a71f0fbb">mtx_last_vars</a></td></tr>
<tr class="memdesc:afc70de91df5ec14f4db66414a71f0fbb inherit pro_attribs_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex for editing the *_last variables. <br /></td></tr>
<tr class="separator:afc70de91df5ec14f4db66414a71f0fbb inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84396d08375c2c796fc759de12d28469 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a84396d08375c2c796fc759de12d28469"></a>
std::map&lt; size_t, cv::Mat &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a84396d08375c2c796fc759de12d28469">img_last</a></td></tr>
<tr class="memdesc:a84396d08375c2c796fc759de12d28469 inherit pro_attribs_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last set of images (use map so all trackers render in the same order) <br /></td></tr>
<tr class="separator:a84396d08375c2c796fc759de12d28469 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a744c43a93a6e4b5cbd9551280e6a1c97 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a744c43a93a6e4b5cbd9551280e6a1c97"></a>
std::map&lt; size_t, cv::Mat &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#a744c43a93a6e4b5cbd9551280e6a1c97">img_mask_last</a></td></tr>
<tr class="memdesc:a744c43a93a6e4b5cbd9551280e6a1c97 inherit pro_attribs_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last set of images (use map so all trackers render in the same order) <br /></td></tr>
<tr class="separator:a744c43a93a6e4b5cbd9551280e6a1c97 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad44a9e0c34c63b477be5fd2a63a6fb61 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="ad44a9e0c34c63b477be5fd2a63a6fb61"></a>
std::unordered_map&lt; size_t, std::vector&lt; cv::KeyPoint &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#ad44a9e0c34c63b477be5fd2a63a6fb61">pts_last</a></td></tr>
<tr class="memdesc:ad44a9e0c34c63b477be5fd2a63a6fb61 inherit pro_attribs_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last set of tracked points. <br /></td></tr>
<tr class="separator:ad44a9e0c34c63b477be5fd2a63a6fb61 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf73cf7b7fd410d8532733875154ed2f inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="aaf73cf7b7fd410d8532733875154ed2f"></a>
std::unordered_map&lt; size_t, std::vector&lt; size_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#aaf73cf7b7fd410d8532733875154ed2f">ids_last</a></td></tr>
<tr class="memdesc:aaf73cf7b7fd410d8532733875154ed2f inherit pro_attribs_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of IDs of each current feature in the database. <br /></td></tr>
<tr class="separator:aaf73cf7b7fd410d8532733875154ed2f inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af59db0441bf16f0e7c62d8f3bd09e5f0 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="af59db0441bf16f0e7c62d8f3bd09e5f0"></a>
std::atomic&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#af59db0441bf16f0e7c62d8f3bd09e5f0">currid</a></td></tr>
<tr class="memdesc:af59db0441bf16f0e7c62d8f3bd09e5f0 inherit pro_attribs_classov__core_1_1TrackBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Master ID for this tracker (atomic to allow for multi-threading) <br /></td></tr>
<tr class="separator:af59db0441bf16f0e7c62d8f3bd09e5f0 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57cb2bb8f3c607f8b9d4bf2a602ac4e6 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a57cb2bb8f3c607f8b9d4bf2a602ac4e6"></a>
boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><b>rT1</b></td></tr>
<tr class="separator:a57cb2bb8f3c607f8b9d4bf2a602ac4e6 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73e38b621931e157aaa17495b53867b0 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a73e38b621931e157aaa17495b53867b0"></a>
boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><b>rT2</b></td></tr>
<tr class="separator:a73e38b621931e157aaa17495b53867b0 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e120e3fea132cc8284216f5567938f3 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a8e120e3fea132cc8284216f5567938f3"></a>
boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><b>rT3</b></td></tr>
<tr class="separator:a8e120e3fea132cc8284216f5567938f3 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77d86ae2f9d21a3033c15f99b0e34d6e inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a77d86ae2f9d21a3033c15f99b0e34d6e"></a>
boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><b>rT4</b></td></tr>
<tr class="separator:a77d86ae2f9d21a3033c15f99b0e34d6e inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab57d642985cdbf063dabbd17a2d2e41e inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="ab57d642985cdbf063dabbd17a2d2e41e"></a>
boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><b>rT5</b></td></tr>
<tr class="separator:ab57d642985cdbf063dabbd17a2d2e41e inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfc1e6bd97b51b95ac4b2283201f395a inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="acfc1e6bd97b51b95ac4b2283201f395a"></a>
boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><b>rT6</b></td></tr>
<tr class="separator:acfc1e6bd97b51b95ac4b2283201f395a inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03326b3c79412f3f96d4c0a6d9de1e76 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="a03326b3c79412f3f96d4c0a6d9de1e76"></a>
boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><b>rT7</b></td></tr>
<tr class="separator:a03326b3c79412f3f96d4c0a6d9de1e76 inherit pro_attribs_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classov__core_1_1TrackBase"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classov__core_1_1TrackBase')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classov__core_1_1TrackBase.html">ov_core::TrackBase</a></td></tr>
<tr class="memitem:aa4b34a5dce99b59522d57bf9278c9a1a inherit pub_types_classov__core_1_1TrackBase"><td class="memItemLeft" align="right" valign="top"><a id="aa4b34a5dce99b59522d57bf9278c9a1a"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classov__core_1_1TrackBase.html#aa4b34a5dce99b59522d57bf9278c9a1a">HistogramMethod</a> { <b>NONE</b>, 
<b>HISTOGRAM</b>, 
<b>CLAHE</b>
 }<tr class="memdesc:aa4b34a5dce99b59522d57bf9278c9a1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Desired pre-processing image method. <br /></td></tr>
</td></tr>
<tr class="separator:aa4b34a5dce99b59522d57bf9278c9a1a inherit pub_types_classov__core_1_1TrackBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>KLT tracking of features. </p>
<p>This is the implementation of a KLT visual frontend for tracking sparse features. We can track either monocular cameras across time (temporally) along with stereo cameras which we also track across time (temporally) but track from left to right to find the stereo correspondence information also. This uses the <a href="https://github.com/opencv/opencv/blob/master/modules/video/src/lkpyramid.cpp">calcOpticalFlowPyrLK</a> OpenCV function to do the KLT tracking. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acb59382fb0893c546e612fa20ca0672b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb59382fb0893c546e612fa20ca0672b">&#9670;&nbsp;</a></span>TrackKLT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ov_core::TrackKLT::TrackKLT </td>
          <td>(</td>
          <td class="paramtype">std::unordered_map&lt; size_t, std::shared_ptr&lt; <a class="el" href="classov__core_1_1CamBase.html">CamBase</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>cameras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numfeats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numaruco</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stereo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classov__core_1_1TrackBase.html#aa4b34a5dce99b59522d57bf9278c9a1a">HistogramMethod</a>&#160;</td>
          <td class="paramname"><em>histmethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fast_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gridx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gridy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minpxdist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Public constructor with configuration variables. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cameras</td><td>camera calibration object which has all camera intrinsics in it </td></tr>
    <tr><td class="paramname">numfeats</td><td>number of features we want want to track (i.e. track 200 points from frame to frame) </td></tr>
    <tr><td class="paramname">numaruco</td><td>the max id of the arucotags, so we ensure that we start our non-auroc features above this value </td></tr>
    <tr><td class="paramname">stereo</td><td>if we should do stereo feature tracking or binocular </td></tr>
    <tr><td class="paramname">histmethod</td><td>what type of histogram pre-processing should be done (histogram eq?) </td></tr>
    <tr><td class="paramname">fast_threshold</td><td>FAST detection threshold </td></tr>
    <tr><td class="paramname">gridx</td><td>size of grid in the x-direction / u-direction </td></tr>
    <tr><td class="paramname">gridy</td><td>size of grid in the y-direction / v-direction </td></tr>
    <tr><td class="paramname">minpxdist</td><td>features need to be at least this number pixels away from each other </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a74d790b70b686f8f4a9788ef765ab3b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74d790b70b686f8f4a9788ef765ab3b1">&#9670;&nbsp;</a></span>feed_monocular()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackKLT::feed_monocular </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structov__core_1_1CameraData.html">CameraData</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>msg_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process a new monocular image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>Contains our timestamp, images, and camera ids </td></tr>
    <tr><td class="paramname">msg_id</td><td>the camera index in message data vector </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8cb9c3595fbbddc9a563137cd06b07cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cb9c3595fbbddc9a563137cd06b07cf">&#9670;&nbsp;</a></span>feed_new_camera()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackKLT::feed_new_camera </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structov__core_1_1CameraData.html">CameraData</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process a new image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>Contains our timestamp, images, and camera ids </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classov__core_1_1TrackBase.html#a18f208f4047e9a1955406806ba68a8c1">ov_core::TrackBase</a>.</p>

</div>
</div>
<a id="a7e0f2b1990992ed7dbd916732dd9d7a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e0f2b1990992ed7dbd916732dd9d7a9">&#9670;&nbsp;</a></span>feed_stereo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackKLT::feed_stereo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structov__core_1_1CameraData.html">CameraData</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>msg_id_left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>msg_id_right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process new stereo pair of images. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>Contains our timestamp, images, and camera ids </td></tr>
    <tr><td class="paramname">msg_id_left</td><td>first image index in message data vector </td></tr>
    <tr><td class="paramname">msg_id_right</td><td>second image index in message data vector </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8443c645bf05d2ec7e5e14ae44150bcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8443c645bf05d2ec7e5e14ae44150bcd">&#9670;&nbsp;</a></span>perform_detection_monocular()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackKLT::perform_detection_monocular </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; cv::Mat &gt; &amp;&#160;</td>
          <td class="paramname"><em>img0pyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>mask0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::KeyPoint &gt; &amp;&#160;</td>
          <td class="paramname"><em>pts0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids0</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detects new features in the current image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img0pyr</td><td>image we will detect features on (first level of pyramid) </td></tr>
    <tr><td class="paramname">mask0</td><td>mask which has what ROI we do not want features in </td></tr>
    <tr><td class="paramname">pts0</td><td>vector of currently extracted keypoints in this image </td></tr>
    <tr><td class="paramname">ids0</td><td>vector of feature ids for each currently extracted keypoint</td></tr>
  </table>
  </dd>
</dl>
<p>Given an image and its currently extracted features, this will try to add new features if needed. Will try to always have the "max_features" being tracked through KLT at each timestep. Passed images should already be grayscaled. </p>

</div>
</div>
<a id="a5c88ad139cd0a0e6633ec604fdee5a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c88ad139cd0a0e6633ec604fdee5a86">&#9670;&nbsp;</a></span>perform_detection_stereo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackKLT::perform_detection_stereo </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; cv::Mat &gt; &amp;&#160;</td>
          <td class="paramname"><em>img0pyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; cv::Mat &gt; &amp;&#160;</td>
          <td class="paramname"><em>img1pyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>mask0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>mask1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>cam_id_left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>cam_id_right</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::KeyPoint &gt; &amp;&#160;</td>
          <td class="paramname"><em>pts0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::KeyPoint &gt; &amp;&#160;</td>
          <td class="paramname"><em>pts1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; size_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detects new features in the current stereo pair. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img0pyr</td><td>left image we will detect features on (first level of pyramid) </td></tr>
    <tr><td class="paramname">img1pyr</td><td>right image we will detect features on (first level of pyramid) </td></tr>
    <tr><td class="paramname">mask0</td><td>mask which has what ROI we do not want features in </td></tr>
    <tr><td class="paramname">mask1</td><td>mask which has what ROI we do not want features in </td></tr>
    <tr><td class="paramname">cam_id_left</td><td>first camera sensor id </td></tr>
    <tr><td class="paramname">cam_id_right</td><td>second camera sensor id </td></tr>
    <tr><td class="paramname">pts0</td><td>left vector of currently extracted keypoints </td></tr>
    <tr><td class="paramname">pts1</td><td>right vector of currently extracted keypoints </td></tr>
    <tr><td class="paramname">ids0</td><td>left vector of feature ids for each currently extracted keypoint </td></tr>
    <tr><td class="paramname">ids1</td><td>right vector of feature ids for each currently extracted keypoint</td></tr>
  </table>
  </dd>
</dl>
<p>This does the same logic as the <a class="el" href="classov__core_1_1TrackKLT.html#a8443c645bf05d2ec7e5e14ae44150bcd" title="Detects new features in the current image. ">perform_detection_monocular()</a> function, but we also enforce stereo contraints. So we detect features in the left image, and then KLT track them onto the right image. If we have valid tracks, then we have both the keypoint on the left and its matching point in the right image. Will try to always have the "max_features" being tracked through KLT at each timestep. </p>

</div>
</div>
<a id="a7747a5ceca5c530350cf0c745a33bfe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7747a5ceca5c530350cf0c745a33bfe5">&#9670;&nbsp;</a></span>perform_matching()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackKLT::perform_matching </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; cv::Mat &gt; &amp;&#160;</td>
          <td class="paramname"><em>img0pyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; cv::Mat &gt; &amp;&#160;</td>
          <td class="paramname"><em>img1pyr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::KeyPoint &gt; &amp;&#160;</td>
          <td class="paramname"><em>pts0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::KeyPoint &gt; &amp;&#160;</td>
          <td class="paramname"><em>pts1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>id0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>id1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; uchar &gt; &amp;&#160;</td>
          <td class="paramname"><em>mask_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>KLT track between two images, and do RANSAC afterwards. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img0pyr</td><td>starting image pyramid </td></tr>
    <tr><td class="paramname">img1pyr</td><td>image pyramid we want to track too </td></tr>
    <tr><td class="paramname">pts0</td><td>starting points </td></tr>
    <tr><td class="paramname">pts1</td><td>points we have tracked </td></tr>
    <tr><td class="paramname">id0</td><td>id of the first camera </td></tr>
    <tr><td class="paramname">id1</td><td>id of the second camera </td></tr>
    <tr><td class="paramname">mask_out</td><td>what points had valid tracks</td></tr>
  </table>
  </dd>
</dl>
<p>This will track features from the first image into the second image. The two point vectors will be of equal size, but the mask_out variable will specify which points are good or bad. If the second vector is non-empty, it will be used as an initial guess of where the keypoints are in the second image. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
