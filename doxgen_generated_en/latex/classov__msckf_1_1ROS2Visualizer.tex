\hypertarget{classov__msckf_1_1ROS2Visualizer}{}\section{ov\+\_\+msckf\+:\+:R\+O\+S2\+Visualizer Class Reference}
\label{classov__msckf_1_1ROS2Visualizer}\index{ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer@{ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer}}


Helper class that will publish results onto the R\+OS framework.  




{\ttfamily \#include $<$R\+O\+S2\+Visualizer.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classov__msckf_1_1ROS2Visualizer_a78a07d5b059b81b009a3c1adac36bc0b}{R\+O\+S2\+Visualizer} (std\+::shared\+\_\+ptr$<$ rclcpp\+::\+Node $>$ node, std\+::shared\+\_\+ptr$<$ \hyperlink{classov__msckf_1_1VioManager}{Vio\+Manager} $>$ app, std\+::shared\+\_\+ptr$<$ \hyperlink{classov__msckf_1_1Simulator}{Simulator} $>$ sim=nullptr)
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
void \hyperlink{classov__msckf_1_1ROS2Visualizer_afa4b0e1730e4fc588a09b3a6ffca55f3}{setup\+\_\+subscribers} (std\+::shared\+\_\+ptr$<$ \hyperlink{classov__core_1_1YamlParser}{ov\+\_\+core\+::\+Yaml\+Parser} $>$ parser)
\begin{DoxyCompactList}\small\item\em Will setup R\+OS subscribers and callbacks. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a4d8b4b52e84096d9d78fe580b99515f6}\label{classov__msckf_1_1ROS2Visualizer_a4d8b4b52e84096d9d78fe580b99515f6}} 
void \hyperlink{classov__msckf_1_1ROS2Visualizer_a4d8b4b52e84096d9d78fe580b99515f6}{visualize} ()
\begin{DoxyCompactList}\small\item\em Will visualize the system if we have new things. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_aae1460121f1096401c1fa1a36d9c299b}\label{classov__msckf_1_1ROS2Visualizer_aae1460121f1096401c1fa1a36d9c299b}} 
void \hyperlink{classov__msckf_1_1ROS2Visualizer_aae1460121f1096401c1fa1a36d9c299b}{visualize\+\_\+odometry} (double timestamp)
\begin{DoxyCompactList}\small\item\em Will publish our odometry message for the current timestep. This will take the current state estimate and get the propagated pose to the desired time. This can be used to get pose estimates on systems which require high frequency pose estimates. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a9126120133a9b4e329c55f0b84c6cf37}\label{classov__msckf_1_1ROS2Visualizer_a9126120133a9b4e329c55f0b84c6cf37}} 
void \hyperlink{classov__msckf_1_1ROS2Visualizer_a9126120133a9b4e329c55f0b84c6cf37}{visualize\+\_\+final} ()
\begin{DoxyCompactList}\small\item\em After the run has ended, print results. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_afd07ffaa161451684954a6b890de9848}\label{classov__msckf_1_1ROS2Visualizer_afd07ffaa161451684954a6b890de9848}} 
void \hyperlink{classov__msckf_1_1ROS2Visualizer_afd07ffaa161451684954a6b890de9848}{callback\+\_\+inertial} (const sensor\+\_\+msgs\+::msg\+::\+Imu\+::\+Shared\+Ptr msg)
\begin{DoxyCompactList}\small\item\em Callback for inertial information. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a22f4ec95cccb5a98bc9b5c196d3c29cb}\label{classov__msckf_1_1ROS2Visualizer_a22f4ec95cccb5a98bc9b5c196d3c29cb}} 
void \hyperlink{classov__msckf_1_1ROS2Visualizer_a22f4ec95cccb5a98bc9b5c196d3c29cb}{callback\+\_\+monocular} (const sensor\+\_\+msgs\+::msg\+::\+Image\+::\+Shared\+Ptr msg0, int cam\+\_\+id0)
\begin{DoxyCompactList}\small\item\em Callback for monocular cameras information. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a03578b71069992491971ef4e5c5f3c1d}\label{classov__msckf_1_1ROS2Visualizer_a03578b71069992491971ef4e5c5f3c1d}} 
void \hyperlink{classov__msckf_1_1ROS2Visualizer_a03578b71069992491971ef4e5c5f3c1d}{callback\+\_\+stereo} (const sensor\+\_\+msgs\+::msg\+::\+Image\+::\+Const\+Shared\+Ptr msg0, const sensor\+\_\+msgs\+::msg\+::\+Image\+::\+Const\+Shared\+Ptr msg1, int cam\+\_\+id0, int cam\+\_\+id1)
\begin{DoxyCompactList}\small\item\em Callback for synchronized stereo camera information. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a5151d8bae1c37c9665f9758014c2ffb7}\label{classov__msckf_1_1ROS2Visualizer_a5151d8bae1c37c9665f9758014c2ffb7}} 
typedef message\+\_\+filters\+::sync\+\_\+policies\+::\+Approximate\+Time$<$ sensor\+\_\+msgs\+::msg\+::\+Image, sensor\+\_\+msgs\+::msg\+::\+Image $>$ {\bfseries sync\+\_\+pol}
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_aea6f0c1073edfe9b47dcaf1ef341d4be}\label{classov__msckf_1_1ROS2Visualizer_aea6f0c1073edfe9b47dcaf1ef341d4be}} 
void \hyperlink{classov__msckf_1_1ROS2Visualizer_aea6f0c1073edfe9b47dcaf1ef341d4be}{publish\+\_\+state} ()
\begin{DoxyCompactList}\small\item\em Publish the current state. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a1fac4c51134464475f3a40b15ab252af}\label{classov__msckf_1_1ROS2Visualizer_a1fac4c51134464475f3a40b15ab252af}} 
void \hyperlink{classov__msckf_1_1ROS2Visualizer_a1fac4c51134464475f3a40b15ab252af}{publish\+\_\+images} ()
\begin{DoxyCompactList}\small\item\em Publish the active tracking image. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_ab88802145290ae7b52b3d544b70db3a9}\label{classov__msckf_1_1ROS2Visualizer_ab88802145290ae7b52b3d544b70db3a9}} 
void \hyperlink{classov__msckf_1_1ROS2Visualizer_ab88802145290ae7b52b3d544b70db3a9}{publish\+\_\+features} ()
\begin{DoxyCompactList}\small\item\em Publish current features. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a160bf85485c49a5f80462ad717e12837}\label{classov__msckf_1_1ROS2Visualizer_a160bf85485c49a5f80462ad717e12837}} 
void \hyperlink{classov__msckf_1_1ROS2Visualizer_a160bf85485c49a5f80462ad717e12837}{publish\+\_\+groundtruth} ()
\begin{DoxyCompactList}\small\item\em Publish groundtruth (if we have it) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a81f6ad6d7e9e03f950ce58ad2c065844}\label{classov__msckf_1_1ROS2Visualizer_a81f6ad6d7e9e03f950ce58ad2c065844}} 
void \hyperlink{classov__msckf_1_1ROS2Visualizer_a81f6ad6d7e9e03f950ce58ad2c065844}{publish\+\_\+loopclosure\+\_\+information} ()
\begin{DoxyCompactList}\small\item\em Publish loop-\/closure information of current pose and active track information. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_aad482388407009f1bdacd886d9a7d74c}\label{classov__msckf_1_1ROS2Visualizer_aad482388407009f1bdacd886d9a7d74c}} 
std\+::shared\+\_\+ptr$<$ rclcpp\+::\+Node $>$ \hyperlink{classov__msckf_1_1ROS2Visualizer_aad482388407009f1bdacd886d9a7d74c}{\+\_\+node}
\begin{DoxyCompactList}\small\item\em Global node handler. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a1586e2d19475d770bb83405d04218941}\label{classov__msckf_1_1ROS2Visualizer_a1586e2d19475d770bb83405d04218941}} 
std\+::shared\+\_\+ptr$<$ \hyperlink{classov__msckf_1_1VioManager}{Vio\+Manager} $>$ \hyperlink{classov__msckf_1_1ROS2Visualizer_a1586e2d19475d770bb83405d04218941}{\+\_\+app}
\begin{DoxyCompactList}\small\item\em Core application of the filter system. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_af343bba4d35f89ebe2d28943bc82cced}\label{classov__msckf_1_1ROS2Visualizer_af343bba4d35f89ebe2d28943bc82cced}} 
std\+::shared\+\_\+ptr$<$ \hyperlink{classov__msckf_1_1Simulator}{Simulator} $>$ \hyperlink{classov__msckf_1_1ROS2Visualizer_af343bba4d35f89ebe2d28943bc82cced}{\+\_\+sim}
\begin{DoxyCompactList}\small\item\em \hyperlink{classov__msckf_1_1Simulator}{Simulator} (is nullptr if we are not sim\textquotesingle{}ing) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a023a013d608f5c90b44f4fb87e7ce4d8}\label{classov__msckf_1_1ROS2Visualizer_a023a013d608f5c90b44f4fb87e7ce4d8}} 
image\+\_\+transport\+::\+Publisher {\bfseries it\+\_\+pub\+\_\+tracks}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a73e2203bc1860cd53ecdb172318692e6}\label{classov__msckf_1_1ROS2Visualizer_a73e2203bc1860cd53ecdb172318692e6}} 
image\+\_\+transport\+::\+Publisher {\bfseries it\+\_\+pub\+\_\+loop\+\_\+img\+\_\+depth}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_adaab99aff6b181693836079d514e970c}\label{classov__msckf_1_1ROS2Visualizer_adaab99aff6b181693836079d514e970c}} 
image\+\_\+transport\+::\+Publisher {\bfseries it\+\_\+pub\+\_\+loop\+\_\+img\+\_\+depth\+\_\+color}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a2e0333a4027decaae3ab8c210b835520}\label{classov__msckf_1_1ROS2Visualizer_a2e0333a4027decaae3ab8c210b835520}} 
rclcpp\+::\+Publisher$<$ geometry\+\_\+msgs\+::msg\+::\+Pose\+With\+Covariance\+Stamped $>$\+::Shared\+Ptr {\bfseries pub\+\_\+poseimu}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_aabdd27c2f0ae0291c56234ce345eaf02}\label{classov__msckf_1_1ROS2Visualizer_aabdd27c2f0ae0291c56234ce345eaf02}} 
rclcpp\+::\+Publisher$<$ nav\+\_\+msgs\+::msg\+::\+Odometry $>$\+::Shared\+Ptr {\bfseries pub\+\_\+odomimu}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a9cf451f56efe79d966718b6376e5454b}\label{classov__msckf_1_1ROS2Visualizer_a9cf451f56efe79d966718b6376e5454b}} 
rclcpp\+::\+Publisher$<$ nav\+\_\+msgs\+::msg\+::\+Path $>$\+::Shared\+Ptr {\bfseries pub\+\_\+pathimu}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_af602ad0cdf872a08970bce90c8b0ccfc}\label{classov__msckf_1_1ROS2Visualizer_af602ad0cdf872a08970bce90c8b0ccfc}} 
rclcpp\+::\+Publisher$<$ sensor\+\_\+msgs\+::msg\+::\+Point\+Cloud2 $>$\+::Shared\+Ptr {\bfseries pub\+\_\+points\+\_\+msckf}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_ac69907ff6909bebcd2a9d67a8092d666}\label{classov__msckf_1_1ROS2Visualizer_ac69907ff6909bebcd2a9d67a8092d666}} 
rclcpp\+::\+Publisher$<$ sensor\+\_\+msgs\+::msg\+::\+Point\+Cloud2 $>$\+::Shared\+Ptr {\bfseries pub\+\_\+points\+\_\+slam}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a02a2150a20bb8abe7e6e784b3f7f6869}\label{classov__msckf_1_1ROS2Visualizer_a02a2150a20bb8abe7e6e784b3f7f6869}} 
rclcpp\+::\+Publisher$<$ sensor\+\_\+msgs\+::msg\+::\+Point\+Cloud2 $>$\+::Shared\+Ptr {\bfseries pub\+\_\+points\+\_\+aruco}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a4116383a9499536ec9f1d14850ba6cb4}\label{classov__msckf_1_1ROS2Visualizer_a4116383a9499536ec9f1d14850ba6cb4}} 
rclcpp\+::\+Publisher$<$ sensor\+\_\+msgs\+::msg\+::\+Point\+Cloud2 $>$\+::Shared\+Ptr {\bfseries pub\+\_\+points\+\_\+sim}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a00966d928bfb510bf40aa6b6f59cb679}\label{classov__msckf_1_1ROS2Visualizer_a00966d928bfb510bf40aa6b6f59cb679}} 
rclcpp\+::\+Publisher$<$ nav\+\_\+msgs\+::msg\+::\+Odometry $>$\+::Shared\+Ptr {\bfseries pub\+\_\+loop\+\_\+pose}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_aa7886e9a043be1355cc17e12109dd80d}\label{classov__msckf_1_1ROS2Visualizer_aa7886e9a043be1355cc17e12109dd80d}} 
rclcpp\+::\+Publisher$<$ nav\+\_\+msgs\+::msg\+::\+Odometry $>$\+::Shared\+Ptr {\bfseries pub\+\_\+loop\+\_\+extrinsic}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_ac20c79b7fd228d470a9b46d117f05b94}\label{classov__msckf_1_1ROS2Visualizer_ac20c79b7fd228d470a9b46d117f05b94}} 
rclcpp\+::\+Publisher$<$ sensor\+\_\+msgs\+::msg\+::\+Point\+Cloud $>$\+::Shared\+Ptr {\bfseries pub\+\_\+loop\+\_\+point}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a5f7d5dd515043eda74a01883753b137c}\label{classov__msckf_1_1ROS2Visualizer_a5f7d5dd515043eda74a01883753b137c}} 
rclcpp\+::\+Publisher$<$ sensor\+\_\+msgs\+::msg\+::\+Camera\+Info $>$\+::Shared\+Ptr {\bfseries pub\+\_\+loop\+\_\+intrinsics}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a8b19d66903795ab36e2e83829f7a2d0d}\label{classov__msckf_1_1ROS2Visualizer_a8b19d66903795ab36e2e83829f7a2d0d}} 
std\+::shared\+\_\+ptr$<$ tf2\+\_\+ros\+::\+Transform\+Broadcaster $>$ {\bfseries m\+Tf\+Br}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_aa0de94a640f501daaa26bff951d30085}\label{classov__msckf_1_1ROS2Visualizer_aa0de94a640f501daaa26bff951d30085}} 
rclcpp\+::\+Subscription$<$ sensor\+\_\+msgs\+::msg\+::\+Imu $>$\+::Shared\+Ptr {\bfseries sub\+\_\+imu}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_aa032dc3dff1852b1c2814a9eed51a768}\label{classov__msckf_1_1ROS2Visualizer_aa032dc3dff1852b1c2814a9eed51a768}} 
std\+::vector$<$ rclcpp\+::\+Subscription$<$ sensor\+\_\+msgs\+::msg\+::\+Image $>$\+::Shared\+Ptr $>$ {\bfseries subs\+\_\+cam}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_aa3d947800332d651bb1bd5910511cda2}\label{classov__msckf_1_1ROS2Visualizer_aa3d947800332d651bb1bd5910511cda2}} 
std\+::vector$<$ std\+::shared\+\_\+ptr$<$ message\+\_\+filters\+::\+Synchronizer$<$ sync\+\_\+pol $>$ $>$ $>$ {\bfseries sync\+\_\+cam}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_ae84b0fb63a43981710b64390696c21f7}\label{classov__msckf_1_1ROS2Visualizer_ae84b0fb63a43981710b64390696c21f7}} 
std\+::vector$<$ std\+::shared\+\_\+ptr$<$ message\+\_\+filters\+::\+Subscriber$<$ sensor\+\_\+msgs\+::msg\+::\+Image $>$ $>$ $>$ {\bfseries sync\+\_\+subs\+\_\+cam}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a66bae94ad145bd3e168f17beb2b4891c}\label{classov__msckf_1_1ROS2Visualizer_a66bae94ad145bd3e168f17beb2b4891c}} 
std\+::vector$<$ geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped $>$ {\bfseries poses\+\_\+imu}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a7d659f2530367ff33e43901366bdbcc8}\label{classov__msckf_1_1ROS2Visualizer_a7d659f2530367ff33e43901366bdbcc8}} 
rclcpp\+::\+Publisher$<$ nav\+\_\+msgs\+::msg\+::\+Path $>$\+::Shared\+Ptr {\bfseries pub\+\_\+pathgt}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a09aeb6680574294a63effb9191d2d97d}\label{classov__msckf_1_1ROS2Visualizer_a09aeb6680574294a63effb9191d2d97d}} 
rclcpp\+::\+Publisher$<$ geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped $>$\+::Shared\+Ptr {\bfseries pub\+\_\+posegt}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a89cbd77dafb79ad4c5d2086e3c4b68f9}\label{classov__msckf_1_1ROS2Visualizer_a89cbd77dafb79ad4c5d2086e3c4b68f9}} 
double {\bfseries summed\+\_\+mse\+\_\+ori} = 0.\+0
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_aed1dbfeaad3a08c16afa66f97123b9c6}\label{classov__msckf_1_1ROS2Visualizer_aed1dbfeaad3a08c16afa66f97123b9c6}} 
double {\bfseries summed\+\_\+mse\+\_\+pos} = 0.\+0
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a788f3f83eb05d9c832e1643e214fb05c}\label{classov__msckf_1_1ROS2Visualizer_a788f3f83eb05d9c832e1643e214fb05c}} 
double {\bfseries summed\+\_\+nees\+\_\+ori} = 0.\+0
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a3572a462a242fcb91cb396dc96d0d974}\label{classov__msckf_1_1ROS2Visualizer_a3572a462a242fcb91cb396dc96d0d974}} 
double {\bfseries summed\+\_\+nees\+\_\+pos} = 0.\+0
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a3aad6d74063bce26b29abb1d489f1e54}\label{classov__msckf_1_1ROS2Visualizer_a3aad6d74063bce26b29abb1d489f1e54}} 
size\+\_\+t {\bfseries summed\+\_\+number} = 0
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_ac2b47a6002f999c44d5c5c5d14cfd969}\label{classov__msckf_1_1ROS2Visualizer_ac2b47a6002f999c44d5c5c5d14cfd969}} 
bool {\bfseries start\+\_\+time\+\_\+set} = false
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a57ea1640cd6c96f45f2eb60214c27e66}\label{classov__msckf_1_1ROS2Visualizer_a57ea1640cd6c96f45f2eb60214c27e66}} 
boost\+::posix\+\_\+time\+::ptime {\bfseries r\+T1}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_afd9e49d7cc466d4be335aa75df258302}\label{classov__msckf_1_1ROS2Visualizer_afd9e49d7cc466d4be335aa75df258302}} 
boost\+::posix\+\_\+time\+::ptime {\bfseries r\+T2}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a29b618b52a6d29b815843ca9a9e5bf85}\label{classov__msckf_1_1ROS2Visualizer_a29b618b52a6d29b815843ca9a9e5bf85}} 
std\+::atomic$<$ bool $>$ {\bfseries thread\+\_\+update\+\_\+running}
\item 
std\+::deque$<$ \hyperlink{structov__core_1_1CameraData}{ov\+\_\+core\+::\+Camera\+Data} $>$ \hyperlink{classov__msckf_1_1ROS2Visualizer_a7235b339b34c7207b2cffb94d4518a25}{camera\+\_\+queue}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a0f53f51b4ba7680def29986beb01b198}\label{classov__msckf_1_1ROS2Visualizer_a0f53f51b4ba7680def29986beb01b198}} 
std\+::mutex {\bfseries camera\+\_\+queue\+\_\+mtx}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a84f92289505e200374d84394811190f5}\label{classov__msckf_1_1ROS2Visualizer_a84f92289505e200374d84394811190f5}} 
std\+::map$<$ int, double $>$ {\bfseries camera\+\_\+last\+\_\+timestamp}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a63abb4a9bd96d5733c684168efcd7ff9}\label{classov__msckf_1_1ROS2Visualizer_a63abb4a9bd96d5733c684168efcd7ff9}} 
double {\bfseries last\+\_\+visualization\+\_\+timestamp} = 0
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_aaaf288af2aa3dcbb4d04cc6b4c25206b}\label{classov__msckf_1_1ROS2Visualizer_aaaf288af2aa3dcbb4d04cc6b4c25206b}} 
double {\bfseries last\+\_\+visualization\+\_\+timestamp\+\_\+image} = 0
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a16cc0657cb96aef00ca7a5e3875145bc}\label{classov__msckf_1_1ROS2Visualizer_a16cc0657cb96aef00ca7a5e3875145bc}} 
std\+::map$<$ double, Eigen\+::\+Matrix$<$ double, 17, 1 $>$ $>$ {\bfseries gt\+\_\+states}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_ae207f16406cb99dfd752291750f859fc}\label{classov__msckf_1_1ROS2Visualizer_ae207f16406cb99dfd752291750f859fc}} 
std\+::vector$<$ geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped $>$ {\bfseries poses\+\_\+gt}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a9d79dfc6a3476a1147dfd25f817ff9d5}\label{classov__msckf_1_1ROS2Visualizer_a9d79dfc6a3476a1147dfd25f817ff9d5}} 
bool {\bfseries publish\+\_\+global2imu\+\_\+tf} = true
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a7eac7eb727e5670bf9981eee45325631}\label{classov__msckf_1_1ROS2Visualizer_a7eac7eb727e5670bf9981eee45325631}} 
bool {\bfseries publish\+\_\+calibration\+\_\+tf} = true
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a8f52abe9f907981edbe866664549bbf6}\label{classov__msckf_1_1ROS2Visualizer_a8f52abe9f907981edbe866664549bbf6}} 
bool {\bfseries save\+\_\+total\+\_\+state} = false
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a5ef7d80542a74e6ef2f146cc5bad4320}\label{classov__msckf_1_1ROS2Visualizer_a5ef7d80542a74e6ef2f146cc5bad4320}} 
std\+::ofstream {\bfseries of\+\_\+state\+\_\+est}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a7a69323dfd959c997384d1eb2bb26817}\label{classov__msckf_1_1ROS2Visualizer_a7a69323dfd959c997384d1eb2bb26817}} 
std\+::ofstream {\bfseries of\+\_\+state\+\_\+std}
\item 
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a1b7bcd2fc53fd93efd293870351f6991}\label{classov__msckf_1_1ROS2Visualizer_a1b7bcd2fc53fd93efd293870351f6991}} 
std\+::ofstream {\bfseries of\+\_\+state\+\_\+gt}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Helper class that will publish results onto the R\+OS framework. 

Also save to file the current total state and covariance along with the groundtruth if we are simulating. We visualize the following things\+:
\begin{DoxyItemize}
\item \hyperlink{classov__msckf_1_1State}{State} of the system on TF, pose message, and path
\item Image of our tracker
\item Our different features (S\+L\+AM, M\+S\+C\+KF, A\+R\+U\+CO)
\item Groundtruth trajectory if we have it 
\end{DoxyItemize}

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a78a07d5b059b81b009a3c1adac36bc0b}\label{classov__msckf_1_1ROS2Visualizer_a78a07d5b059b81b009a3c1adac36bc0b}} 
\index{ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer@{ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer}!R\+O\+S2\+Visualizer@{R\+O\+S2\+Visualizer}}
\index{R\+O\+S2\+Visualizer@{R\+O\+S2\+Visualizer}!ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer@{ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer}}
\subsubsection{\texorpdfstring{R\+O\+S2\+Visualizer()}{ROS2Visualizer()}}
{\footnotesize\ttfamily R\+O\+S2\+Visualizer\+::\+R\+O\+S2\+Visualizer (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ rclcpp\+::\+Node $>$}]{node,  }\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classov__msckf_1_1VioManager}{Vio\+Manager} $>$}]{app,  }\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classov__msckf_1_1Simulator}{Simulator} $>$}]{sim = {\ttfamily nullptr} }\end{DoxyParamCaption})}



Default constructor. 


\begin{DoxyParams}{Parameters}
{\em node} & R\+OS node pointer \\
\hline
{\em app} & Core estimator manager \\
\hline
{\em sim} & \hyperlink{classov__msckf_1_1Simulator}{Simulator} if we are simulating \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_afa4b0e1730e4fc588a09b3a6ffca55f3}\label{classov__msckf_1_1ROS2Visualizer_afa4b0e1730e4fc588a09b3a6ffca55f3}} 
\index{ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer@{ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer}!setup\+\_\+subscribers@{setup\+\_\+subscribers}}
\index{setup\+\_\+subscribers@{setup\+\_\+subscribers}!ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer@{ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer}}
\subsubsection{\texorpdfstring{setup\+\_\+subscribers()}{setup\_subscribers()}}
{\footnotesize\ttfamily void R\+O\+S2\+Visualizer\+::setup\+\_\+subscribers (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classov__core_1_1YamlParser}{ov\+\_\+core\+::\+Yaml\+Parser} $>$}]{parser }\end{DoxyParamCaption})}



Will setup R\+OS subscribers and callbacks. 


\begin{DoxyParams}{Parameters}
{\em parser} & Configuration file parser \\
\hline
\end{DoxyParams}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classov__msckf_1_1ROS2Visualizer_a7235b339b34c7207b2cffb94d4518a25}\label{classov__msckf_1_1ROS2Visualizer_a7235b339b34c7207b2cffb94d4518a25}} 
\index{ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer@{ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer}!camera\+\_\+queue@{camera\+\_\+queue}}
\index{camera\+\_\+queue@{camera\+\_\+queue}!ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer@{ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer}}
\subsubsection{\texorpdfstring{camera\+\_\+queue}{camera\_queue}}
{\footnotesize\ttfamily std\+::deque$<$\hyperlink{structov__core_1_1CameraData}{ov\+\_\+core\+::\+Camera\+Data}$>$ ov\+\_\+msckf\+::\+R\+O\+S2\+Visualizer\+::camera\+\_\+queue\hspace{0.3cm}{\ttfamily [protected]}}

Queue up camera measurements sorted by time and trigger once we have exactly one I\+MU measurement with timestamp newer than the camera measurement This also handles out-\/of-\/order camera measurements, which is rare, but a nice feature to have for general robustness to bad camera drivers. 